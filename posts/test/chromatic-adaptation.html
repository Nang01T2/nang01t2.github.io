<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/73beb66de679fc11.css" as="style"/><link rel="stylesheet" href="/_next/static/css/73beb66de679fc11.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-6216e50b0e4f6e40.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-83cebdb887f48834.js" defer=""></script><script src="/_next/static/chunks/pages/_app-06fa424343cc48b6.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5B...id%5D-a4990c3821024c03.js" defer=""></script><script src="/_next/static/v08qUVp9oev7hrGkcByI7/_buildManifest.js" defer=""></script><script src="/_next/static/v08qUVp9oev7hrGkcByI7/_ssgManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="mx-auto max-w-3xl px-6 lg:max-w-6xl lg:px-8"><nav class="text-secondary flex w-full select-none items-end pt-8 pb-12"><div class="hidden items-end sm:flex"><a aria-label="logo" class="flex items-center rounded-lg transition-all hover:bg-secondary text-primary font-semibold mr-2" href="/"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" width="40" fill="#F4C90D" viewBox="0 0 512 512"><path stroke="none" d=" M313.218567,422.565704  C308.299469,426.142120 303.546631,424.071747 298.811554,422.920746  C298.045990,422.734619 298.161957,421.960083 297.953857,421.355865  C295.158386,413.239594 292.136627,405.196228 290.112518,396.434937  C289.426025,395.696442 289.328644,395.146332 289.255249,394.275482  C285.696106,382.126526 282.245270,370.247375 278.439087,358.232178  C277.719635,358.038483 277.491028,357.831390 277.276062,357.249451  C275.964539,351.071777 273.169128,345.758820 269.625031,341.021759  C269.099731,340.319641 268.055145,339.395386 267.891327,338.408112  C267.109161,333.695312 262.961609,332.478088 259.417236,330.185211  C258.015472,329.313995 256.346436,329.274353 255.956818,327.261047  C255.128464,324.755066 253.016342,324.264801 251.266785,323.824310  C245.731201,322.430634 241.384903,318.617035 236.025284,316.794342  C231.474075,315.246582 230.279724,303.943085 234.386505,301.483063  C236.081177,300.467926 238.518356,300.493073 240.684769,299.638062  C244.667801,298.066101 247.473572,294.567810 251.798752,293.425903  C252.369156,291.103638 254.035812,291.631409 255.640213,291.224487  C262.365082,288.506714 266.300323,282.858612 270.826447,278.230225  C273.791534,275.198120 275.663025,270.894531 278.974548,267.592163  C281.313812,265.278595 280.829712,261.814728 283.014130,259.296997  C283.518005,258.444061 283.486206,257.831299 283.836914,257.078369  C287.141907,253.398880 286.990417,248.639786 289.005615,244.307037  C289.446869,243.127533 288.905670,242.179443 289.762451,241.163513  C292.156250,234.864624 291.842865,228.415070 292.869873,222.179718  C293.583557,217.846741 293.973022,213.224731 293.753845,208.946487  C293.247894,199.070068 296.214233,189.880280 298.372101,180.616455  C299.004364,177.902222 303.808350,175.036819 307.100525,174.436951  C309.530518,173.994171 313.488861,175.928726 314.954407,179.292221  C316.698151,183.294174 317.149048,187.656555 318.150879,191.865372  C320.811768,203.044083 320.660828,214.749054 324.240875,225.635681  C325.794403,230.359711 326.889038,235.177689 328.421356,239.878448  C330.323639,245.714157 332.214661,252.087845 335.447021,256.774445  C340.275909,263.775879 342.855194,272.666016 350.790253,277.547852  C352.856140,278.818817 353.168488,282.429108 356.702789,283.029358  C358.083374,284.090271 359.400757,284.599701 360.670166,285.768799  C363.785980,286.884979 365.159760,290.509125 368.849487,290.477936  C370.019897,291.973755 371.355072,291.555359 372.906616,291.668976  C374.291504,293.036041 376.580322,293.162170 376.794067,295.661591  C381.067169,299.438110 382.712341,304.644836 379.793701,307.774445  C377.537781,310.193420 373.996826,311.590149 370.802948,312.890625  C368.958221,313.641724 367.430969,314.255554 366.347748,316.050568  C363.573181,320.648499 357.370331,319.304810 353.991119,322.971710  C353.451111,323.557709 352.707855,323.956421 351.910400,324.780640  C349.319366,327.512787 347.660461,330.689148 344.205902,332.214661  C341.827301,332.388000 339.811127,332.751129 342.216309,335.706543  C340.959167,336.583893 340.012115,337.453827 338.432068,337.763062  C334.677277,342.232513 333.809082,348.164246 331.110291,352.140594  C326.822113,358.458740 326.046997,365.439575 323.784088,372.014587  C321.169189,379.612244 321.255402,388.020721 319.726654,395.937805  C318.226044,403.709259 317.130402,411.715546 314.045593,419.539917  C314.694000,420.946716 313.816071,421.560272 313.218567,422.565704  z"></path><path stroke="none" d=" M246.221771,194.027740  C241.854050,194.381287 240.025742,198.292969 236.683075,199.828903  C234.543884,200.811813 232.703445,202.444839 230.405090,203.914261  C229.414749,206.465836 227.328323,207.398972 225.209045,208.788086  C223.753128,211.563644 222.434235,213.962051 219.649597,215.159790  C218.977783,215.448761 218.324570,216.223251 218.049896,216.925827  C214.773407,225.306564 210.242432,233.196548 209.861267,242.625076  C209.582230,249.527405 207.179504,256.077698 204.262665,262.412659  C202.423843,266.406372 199.531708,267.306519 195.526596,267.064758  C191.924713,266.847321 189.609314,265.932068 187.876801,262.181335  C183.218445,252.096375 179.979111,241.481979 175.629044,231.305481  C172.942505,225.020599 169.887558,218.861389 165.643188,213.411713  C163.901077,211.174866 161.851868,209.195633 160.672958,206.499802  C160.410904,205.900543 159.465530,202.653366 157.666748,205.737503  C157.503296,204.920044 154.619995,206.215912 156.289307,203.840759  C157.099915,202.687424 155.760635,202.316650 154.908981,202.025864  C148.056168,199.686005 141.846909,195.677444 134.733002,194.081024  C132.663025,193.616516 131.479324,192.050003 129.717590,191.228622  C126.332642,189.650452 127.493057,186.656494 129.006439,184.756989  C131.018356,182.231750 133.436081,180.059128 136.826584,178.855850  C142.676834,176.779572 148.229980,173.898132 153.545670,169.992310  C154.666428,169.188751 155.218262,168.164108 156.755859,167.930878  C159.437378,167.598053 161.175049,166.747833 162.410614,164.371414  C163.231308,162.792938 164.047424,160.549622 167.033768,160.846512  C169.690201,161.110596 167.815689,157.838638 168.997681,157.085632  C174.937393,153.301514 175.898224,146.584290 178.359283,140.929810  C181.198502,134.406509 181.078186,126.946724 183.118042,120.159470  C185.626450,111.813179 186.201035,102.934830 190.514359,94.975464  C191.798203,93.897873 192.655838,92.790573 194.635315,93.221802  C199.044617,90.279129 200.230896,95.750580 203.580978,95.968155  C204.525406,95.954643 205.047089,96.135239 205.615265,96.814278  C205.073257,99.154663 208.012039,98.539925 208.126099,100.244720  C208.195480,101.281921 210.716827,102.868736 207.252930,102.547394  C207.219254,102.544266 206.871902,103.573410 207.062897,103.842987  C211.366470,109.917130 209.900589,117.371170 211.922592,124.009254  C215.294052,135.077530 219.806992,145.274689 227.437775,154.330902  C232.299835,160.101196 238.681976,163.343658 244.544983,167.934326  C245.758392,168.005096 246.637070,167.968185 247.589417,168.753922  C247.815155,171.186844 249.714890,171.651596 251.120880,171.893417  C256.358276,172.794205 260.545715,175.967377 265.624512,178.088913  C266.228790,180.068329 269.466125,181.107727 267.305298,183.851852  C262.037384,190.579559 253.584167,188.731827 247.213898,192.571899  C247.025177,193.333755 246.832428,193.675964 246.221771,194.027740  z"></path></svg></a><a class="flex items-center rounded-lg transition-all hover:bg-secondary text-secondary font-normal px-3 py-1.5" href="/blog">Blog</a><a class="flex items-center rounded-lg transition-all hover:bg-secondary text-secondary font-normal px-3 py-1.5" href="/tags">Tags</a><a class="flex items-center rounded-lg transition-all hover:bg-secondary text-secondary font-normal px-3 py-1.5" href="/projects">Projects</a><a class="flex items-center rounded-lg transition-all hover:bg-secondary text-secondary font-normal px-3 py-1.5" href="/about">About</a></div><div class="flex sm:hidden"><button><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" width="40" fill="#F4C90D" viewBox="0 0 512 512"><path stroke="none" d=" M313.218567,422.565704  C308.299469,426.142120 303.546631,424.071747 298.811554,422.920746  C298.045990,422.734619 298.161957,421.960083 297.953857,421.355865  C295.158386,413.239594 292.136627,405.196228 290.112518,396.434937  C289.426025,395.696442 289.328644,395.146332 289.255249,394.275482  C285.696106,382.126526 282.245270,370.247375 278.439087,358.232178  C277.719635,358.038483 277.491028,357.831390 277.276062,357.249451  C275.964539,351.071777 273.169128,345.758820 269.625031,341.021759  C269.099731,340.319641 268.055145,339.395386 267.891327,338.408112  C267.109161,333.695312 262.961609,332.478088 259.417236,330.185211  C258.015472,329.313995 256.346436,329.274353 255.956818,327.261047  C255.128464,324.755066 253.016342,324.264801 251.266785,323.824310  C245.731201,322.430634 241.384903,318.617035 236.025284,316.794342  C231.474075,315.246582 230.279724,303.943085 234.386505,301.483063  C236.081177,300.467926 238.518356,300.493073 240.684769,299.638062  C244.667801,298.066101 247.473572,294.567810 251.798752,293.425903  C252.369156,291.103638 254.035812,291.631409 255.640213,291.224487  C262.365082,288.506714 266.300323,282.858612 270.826447,278.230225  C273.791534,275.198120 275.663025,270.894531 278.974548,267.592163  C281.313812,265.278595 280.829712,261.814728 283.014130,259.296997  C283.518005,258.444061 283.486206,257.831299 283.836914,257.078369  C287.141907,253.398880 286.990417,248.639786 289.005615,244.307037  C289.446869,243.127533 288.905670,242.179443 289.762451,241.163513  C292.156250,234.864624 291.842865,228.415070 292.869873,222.179718  C293.583557,217.846741 293.973022,213.224731 293.753845,208.946487  C293.247894,199.070068 296.214233,189.880280 298.372101,180.616455  C299.004364,177.902222 303.808350,175.036819 307.100525,174.436951  C309.530518,173.994171 313.488861,175.928726 314.954407,179.292221  C316.698151,183.294174 317.149048,187.656555 318.150879,191.865372  C320.811768,203.044083 320.660828,214.749054 324.240875,225.635681  C325.794403,230.359711 326.889038,235.177689 328.421356,239.878448  C330.323639,245.714157 332.214661,252.087845 335.447021,256.774445  C340.275909,263.775879 342.855194,272.666016 350.790253,277.547852  C352.856140,278.818817 353.168488,282.429108 356.702789,283.029358  C358.083374,284.090271 359.400757,284.599701 360.670166,285.768799  C363.785980,286.884979 365.159760,290.509125 368.849487,290.477936  C370.019897,291.973755 371.355072,291.555359 372.906616,291.668976  C374.291504,293.036041 376.580322,293.162170 376.794067,295.661591  C381.067169,299.438110 382.712341,304.644836 379.793701,307.774445  C377.537781,310.193420 373.996826,311.590149 370.802948,312.890625  C368.958221,313.641724 367.430969,314.255554 366.347748,316.050568  C363.573181,320.648499 357.370331,319.304810 353.991119,322.971710  C353.451111,323.557709 352.707855,323.956421 351.910400,324.780640  C349.319366,327.512787 347.660461,330.689148 344.205902,332.214661  C341.827301,332.388000 339.811127,332.751129 342.216309,335.706543  C340.959167,336.583893 340.012115,337.453827 338.432068,337.763062  C334.677277,342.232513 333.809082,348.164246 331.110291,352.140594  C326.822113,358.458740 326.046997,365.439575 323.784088,372.014587  C321.169189,379.612244 321.255402,388.020721 319.726654,395.937805  C318.226044,403.709259 317.130402,411.715546 314.045593,419.539917  C314.694000,420.946716 313.816071,421.560272 313.218567,422.565704  z"></path><path stroke="none" d=" M246.221771,194.027740  C241.854050,194.381287 240.025742,198.292969 236.683075,199.828903  C234.543884,200.811813 232.703445,202.444839 230.405090,203.914261  C229.414749,206.465836 227.328323,207.398972 225.209045,208.788086  C223.753128,211.563644 222.434235,213.962051 219.649597,215.159790  C218.977783,215.448761 218.324570,216.223251 218.049896,216.925827  C214.773407,225.306564 210.242432,233.196548 209.861267,242.625076  C209.582230,249.527405 207.179504,256.077698 204.262665,262.412659  C202.423843,266.406372 199.531708,267.306519 195.526596,267.064758  C191.924713,266.847321 189.609314,265.932068 187.876801,262.181335  C183.218445,252.096375 179.979111,241.481979 175.629044,231.305481  C172.942505,225.020599 169.887558,218.861389 165.643188,213.411713  C163.901077,211.174866 161.851868,209.195633 160.672958,206.499802  C160.410904,205.900543 159.465530,202.653366 157.666748,205.737503  C157.503296,204.920044 154.619995,206.215912 156.289307,203.840759  C157.099915,202.687424 155.760635,202.316650 154.908981,202.025864  C148.056168,199.686005 141.846909,195.677444 134.733002,194.081024  C132.663025,193.616516 131.479324,192.050003 129.717590,191.228622  C126.332642,189.650452 127.493057,186.656494 129.006439,184.756989  C131.018356,182.231750 133.436081,180.059128 136.826584,178.855850  C142.676834,176.779572 148.229980,173.898132 153.545670,169.992310  C154.666428,169.188751 155.218262,168.164108 156.755859,167.930878  C159.437378,167.598053 161.175049,166.747833 162.410614,164.371414  C163.231308,162.792938 164.047424,160.549622 167.033768,160.846512  C169.690201,161.110596 167.815689,157.838638 168.997681,157.085632  C174.937393,153.301514 175.898224,146.584290 178.359283,140.929810  C181.198502,134.406509 181.078186,126.946724 183.118042,120.159470  C185.626450,111.813179 186.201035,102.934830 190.514359,94.975464  C191.798203,93.897873 192.655838,92.790573 194.635315,93.221802  C199.044617,90.279129 200.230896,95.750580 203.580978,95.968155  C204.525406,95.954643 205.047089,96.135239 205.615265,96.814278  C205.073257,99.154663 208.012039,98.539925 208.126099,100.244720  C208.195480,101.281921 210.716827,102.868736 207.252930,102.547394  C207.219254,102.544266 206.871902,103.573410 207.062897,103.842987  C211.366470,109.917130 209.900589,117.371170 211.922592,124.009254  C215.294052,135.077530 219.806992,145.274689 227.437775,154.330902  C232.299835,160.101196 238.681976,163.343658 244.544983,167.934326  C245.758392,168.005096 246.637070,167.968185 247.589417,168.753922  C247.815155,171.186844 249.714890,171.651596 251.120880,171.893417  C256.358276,172.794205 260.545715,175.967377 265.624512,178.088913  C266.228790,180.068329 269.466125,181.107727 267.305298,183.851852  C262.037384,190.579559 253.584167,188.731827 247.213898,192.571899  C247.025177,193.333755 246.832428,193.675964 246.221771,194.027740  z"></path></svg></button></div><div class="ml-auto flex items-center gap-2"><button class="flex cursor-pointer items-center rounded-lg p-1 text-xs bg-secondary transition-colors hover:bg-tertiary"><span class="px-3">Search...</span><div class="ml-auto rounded-lg px-2 py-1 bg-primary border transition-colors dark:border-neutral-700">⌘ K</div></button><button aria-label="Toggle Dark Mode" type="button" class="flex h-9 w-9 items-center justify-center rounded-lg transition-all text-secondary hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6 text-yellow-400 drop-shadow-base"></svg></button></div></nav><main class="relative pb-16"><!--$--><div><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><div class="border-b border-gray-200 dark:border-gray-700 text-center"><div><h1 class="text-4xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14 break-words">Chromatic adaptation (Color constancy)</h1></div><div><a class="mr-4 text-mm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/image-processing">image-processing</a><a class="mr-4 text-mm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/color-science">color-science</a><a class="mr-4 text-mm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/opencv">opencv</a></div></div><p><img alt="Color constancy of an image using Chromatic adaptation" src="chromatic-adaptation/chromatic-adaptation.jpg"/></p><h1 id="color-constancy-of-an-image-using-chromatic-adaptation"><a href="#color-constancy-of-an-image-using-chromatic-adaptation" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">Color constancy of an image using Chromatic adaptation</a></h1><h2 id="color-constancy"><a href="#color-constancy" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">Color constancy</a></h2><p>Color constancy is the tendency of the human color system that ensures the color perception of objects is relatively constant under varying illumination conditions. It means we observe the same object colors for different light conditions.</p><p>Like for example, under a greenish light source, the color of the apple looks relatively red even though the intensity of the green wavelength is greater than other colors. It&#x27;s unknown how we (and some other animals) have this color perception system.</p><p>Several mechanisms like metamerism, chromatic adaptation, memory map, etc. are involved in achieving color constancy. Metamerism happens when two object looks the same color even though the reflectance wavelengths are not the same but overall color is the same. Our memory map of object colors helps our eyes to adjust the color perception after some time under different illuminations.</p><p>Color constancy is not true in every object case, for some objects under certain illumination conditions, it could be inverse. Color constancy happens in most of the cases for objects if we have seen them before and for other objects/surfaces, we observe the color of major intensity wavelength. Color constancy depends heavily on the illumination source and neighborhood surface.</p><p><img alt="Checker Shadow Illusion:=:50:=:Even though both A and B are the same gray color, A appears darker than B because of shadow from the cylinder which changes illumination on B" src="chromatic-adaptation/checker-shadow-illusion.jpg"/></p><p>Several theories like photoreceptor sensitivity, retinex, color map, etc, try to measure the color constancy using different mechanisms.</p><h2 id="chromatic-adaptation"><a href="#chromatic-adaptation" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">Chromatic adaptation</a></h2><p>Chromatic adaptation is one of the mechanisms involved in color constancy and is defined as the ability of human color perception to adjust the retina/cortex sensitivity for changes in the illuminant color system. Chromatic adaptation is closely related to the adjustment of cone sensitivity that happens in our eyes when the illumination changes. Like our eyes adjust to see the objects as constant colors under different day-light conditions like sunrise, mid-day, and sunset. In all these conditions, we perceive object colors as the same. This could be opposite in some conditions where we see opposite colors instead of relative colors.</p><p>In computer vision, computation color constancy is achieving human color constancy using different methods based on color constancy mechanisms. And chromatic adaptation technique is one of the methods to achieve computational color constancy based on illumination.</p><h3 id="von-kries-transform"><a href="#von-kries-transform" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">Von Kries transform</a></h3><p>The Von Kries chromatic adaptation technique is based on the LMS cone sensitivity response function. LMS cones responses in the retina are independent of each other and they adjust independently for varying illuminations. Each cone increases or decreases responsiveness based on illuminant spectral energy. Each cone cell gains (increase or decrease) some spectral sensitivity response to adapt for new illumination from the previous illumination to perceive object constant colors.</p><p>Based on LMS cones gain, Von Kries adaptation transforms one illuminant to other to keep the <strong>white color</strong> constant in both systems. Von Kries transform based on LMS cone sensitivity is the base for chromatic adaptation transforms proposed later.</p><hr/><h2 id="chromatic-adaptation-transform"><a href="#chromatic-adaptation-transform" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">Chromatic adaptation transform</a></h2><p>Von Kries chromatic adaptation transformation is a linear transformation of the source color to destination color based on LMS cones gain for adaptation to destination illuminant. That is, we can transform the color in one illuminant to other illuminants if we scale the color with a gain of LMS for adaptation to color constancy.</p><blockquote><p>If you&#x27;re not familiar with concepts like <strong>CIE RGB</strong>, <strong>CIE XYZ</strong> tristimulus values, <strong>chromaticity diagram</strong>, and other color science topics, please refer to those topics at my previous blog about <a target="_blank" rel="noopener noreferrer" href="https://santhalakshminarayana.github.io/blog/color-science">color-science</a>.</p></blockquote><p>The destination LMS cone responses can be calculated by multiplying the gain LMS with source LMS cone responses. In matrix form, the representation is</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>L</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>M</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>S</mi><mi>D</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable columnalign="center center center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>L</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>L</mi><mi>S</mi></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>M</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>M</mi><mi>S</mi></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>S</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>S</mi><mi>S</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>L</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>M</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>S</mi><mi>S</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} L_{D} \\ M_{D} \\ S_{D} \\ \end{bmatrix} = \begin{bmatrix} L_{D}/L_{S} &amp; 0 &amp; 0 \\ 0 &amp; M_{D}/M_{S} &amp; 0 \\ 0 &amp; 0 &amp; S_{D}/S_{S} \\ \end{bmatrix} \begin{bmatrix} L_{S} \\ M_{S} \\ S_{S} \\ \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p>where <strong>L, M, and S</strong> of source and destination are represented in <strong>CIE LMS color space</strong>, and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>L</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">L_{D}/L_{S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>M</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">M_{D}/M_{S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span>, and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>S</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">S_{D}/S_{S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span> are gain factors for source to destination illumination adaptation.</p><p>As color representation in <strong>LMS color space</strong> is difficult and not practiced, transform the <strong>LMS color space</strong> to <strong>CIE XYZ</strong>. When a transformation is performed in <strong>CIE XYZ</strong> or any other space but not <strong>LMS cone space</strong> is called <strong>Wrong Von Kries</strong>.</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>L</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>M</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>S</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><msub><mi>M</mi><mi>A</mi></msub><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>X</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>Y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>Z</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} L \\ M \\ S \\ \end{bmatrix} = M_{A} \begin{bmatrix} X \\ Y \\ Z \\ \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">L</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>L</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>M</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>S</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable columnalign="center center center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>a</mi></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>b</mi></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>c</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>d</mi></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>e</mi></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>f</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>g</mi></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>h</mi></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>i</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>X</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>Y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mi>Z</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} L \\ M \\ S \\ \end{bmatrix} = \begin{bmatrix} a &amp; b &amp; c \\ d &amp; e &amp; f \\ g &amp; h &amp; i \\ \end{bmatrix} \begin{bmatrix} X \\ Y \\ Z \\ \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">L</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10764em">f</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p>where the transformation matrix <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>A</mi></msub></mrow><annotation encoding="application/x-tex">M_{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span> with dimensions <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi>x</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">3x3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">3</span><span class="mord mathnormal">x</span><span class="mord">3</span></span></span></span></span> and independent gain control factors <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>e</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a, e, i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span></span> is called chromatic adaptation transform (CAT) matrix. Each CAT model give different CAT matrices for transformation from <strong>LMS cone space</strong> to <strong>CIE XYZ</strong>.</p><p>Wrong Von Kries transform by <strong>XYZ</strong> gain scaling to <strong>CIE XYZ</strong> tristimulus values of the source is,</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>X</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Y</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Z</mi><mi>D</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable columnalign="center center center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>X</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>X</mi><mi>S</mi></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>Y</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>Y</mi><mi>S</mi></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>Z</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>Z</mi><mi>S</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>X</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Y</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Z</mi><mi>S</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} X_{D} \\ Y_{D} \\ Z_{D} \\ \end{bmatrix} = \begin{bmatrix} X_{D}/X_{S} &amp; 0 &amp; 0 \\ 0 &amp; Y_{D}/Y_{S} &amp; 0 \\ 0 &amp; 0 &amp; Z_{D}/Z_{S} \\ \end{bmatrix} \begin{bmatrix} X_{S} \\ Y_{S} \\ Z_{S} \\ \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p>We can convert <strong>CIE XYZ</strong> to <strong>LMS cone space</strong> and then back to <strong>CIE XYZ</strong> with <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>A</mi></msub></mrow><annotation encoding="application/x-tex">M_{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span>, then we can change Wrong Von Kries to general Von Kries as,</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>X</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Y</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Z</mi><mi>D</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mi>M</mi><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>X</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Y</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Z</mi><mi>S</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} X_{D} \\ Y_{D} \\ Z_{D} \\ \end{bmatrix} = M \begin{bmatrix} X_{S} \\ Y_{S} \\ Z_{S} \\ \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mo>=</mo><msubsup><mi>M</mi><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><mrow><mo fence="true">[</mo><mtable columnalign="center center center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>L</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>D</mi><mi>S</mi></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>M</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>M</mi><mi>S</mi></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>S</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>S</mi><mi>S</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M = M_{A}^{-1} \begin{bmatrix} L_{D}/D_{S} &amp; 0 &amp; 0 \\ 0 &amp; M_{D}/M_{S} &amp; 0 \\ 0 &amp; 0 &amp; S_{D}/S_{S} \\ \end{bmatrix} M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8641em"><span style="top:-2.4163em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">A</span></span></span></span><span style="top:-3.113em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2837em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0278em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>L</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>M</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>S</mi><mi>S</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><msub><mi>M</mi><mi>A</mi></msub><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>X</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Y</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Z</mi><mi>S</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} L_{S} \\ M_{S} \\ S_{S} \\ \end{bmatrix} = M_{A} \begin{bmatrix} X_{S} \\ Y_{S} \\ Z_{S} \\ \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>L</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>M</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>S</mi><mi>D</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><msub><mi>M</mi><mi>A</mi></msub><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>X</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Y</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Z</mi><mi>D</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} L_{D} \\ M_{D} \\ S_{D} \\ \end{bmatrix} = M_{A} \begin{bmatrix} X_{D} \\ Y_{D} \\ Z_{D} \\ \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p>The generalized version of Von Kries for <strong>CIE XYZ white point</strong> reference is,</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>X</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Y</mi><mi>D</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Z</mi><mi>D</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><msubsup><mi>M</mi><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><mrow><mo fence="true">[</mo><mtable columnalign="center center center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>L</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>L</mi><mi>S</mi></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>M</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>M</mi><mi>S</mi></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mi>S</mi><mi>D</mi></msub><mi mathvariant="normal">/</mi><msub><mi>S</mi><mi>S</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><msub><mi>M</mi><mi>A</mi></msub><mrow><mo fence="true">[</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>X</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Y</mi><mi>S</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><msub><mi>Z</mi><mi>S</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} X_{D} \\ Y_{D} \\ Z_{D} \\ \end{bmatrix} = M_{A}^{-1} \begin{bmatrix} L_{D}/L_{S} &amp; 0 &amp; 0 \\ 0 &amp; M_{D}/M_{S} &amp; 0 \\ 0 &amp; 0 &amp; S_{D}/S_{S} \\ \end{bmatrix} M_{A} \begin{bmatrix} X_{S} \\ Y_{S} \\ Z_{S} \\ \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8641em"><span style="top:-2.4163em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">A</span></span></span></span><span style="top:-3.113em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2837em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎣</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0785em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.2222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal" style="margin-right:.05764em">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.25em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎦</span></span></span><span style="top:-3.397em"><span class="pstrut" style="height:3.155em"></span><span style="height:.016em;width:.6667em"><svg height="0.016em" preserveAspectRatio="xMinYMin" style="width:.6667em" viewBox="0 0 666.67 16" width="0.6667em" xmlns="http://www.w3.org/2000/svg"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"></path></svg></span></span><span style="top:-4.05em"><span class="pstrut" style="height:3.155em"></span><span class="delim-size4 delimsizinginner"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X, Y, Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.22222em">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="mclose">)</span></span></span></span></span> values for source and destination are illuminant white point values in <strong>CEI XYZ</strong>.</p><blockquote><p><a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/White_point">White point</a> is the color that is formed when all cone sensitivity responses are maximum.</p></blockquote><hr/><h2 id="implementation-of-chromatic-adaptation-transform"><a href="#implementation-of-chromatic-adaptation-transform" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">Implementation of Chromatic adaptation transform</a></h2><p>We will implement chromatic adaptation for converting source image to destination illuminant by applying CAT. Chromatic adaptation for an image is implemented in two steps</p><ol><li>Estimate scene illuminant of image</li><li>Convert source image to destination illuminant with source illuminant obtained in step 1</li></ol><h3 id="illumination-estimation-of-image"><a href="#illumination-estimation-of-image" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">Illumination estimation of image</a></h3><p>Illumination estimation is predicting tristimulus values (CIE XYZ) for the white point of the illuminant light source under which the reference image has been taken. These predicted white point tristimulus values were then later used for CAT. Illumination estimation is a very crucial step in chromatic adaptation. Several illumination estimation methods exist like</p><ul><li>Gray world assumption</li><li>White patch retinex</li><li>Reflection model</li></ul><p>The above methods are suitable for uniform illumination, for nonuniform illumination Retinex models are widely used.</p><p>For now, we use the Gray world assumption for illumination estimation</p><h3 id="gray-world-assumption-illuminant-estimation"><a href="#gray-world-assumption-illuminant-estimation" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">Gray world assumption illuminant estimation</a></h3><p><a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Color_normalization">Gray world assumption</a> is a simple method that assumes image contains objects with different reflectance colors uniformly from minimum to maximum intensities and averaging all pixel colors gives gray color. Illumination estimation is calculated by averaging all pixel values for each channel. For an image with equal representation of colors, illumination estimation gives average color gray.</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>I</mi><mi>l</mi><mi>l</mi><mi>u</mi><mi>m</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>n</mi><mi>t</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>R</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub><mi mathvariant="normal">/</mi><mn>255</mn><mo separator="true">,</mo><msub><mi>G</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub><mi mathvariant="normal">/</mi><mn>255</mn><mo separator="true">,</mo><msub><mi>B</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub><mi mathvariant="normal">/</mi><mn>255</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Illuminant = (R_{avg}/255, G_{avg}/255, B_{avg}/255)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal" style="margin-right:.07847em">I</span><span class="mord mathnormal" style="margin-right:.01968em">ll</span><span class="mord mathnormal">u</span><span class="mord mathnormal">minan</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-.2861em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:-.0077em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">a</span><span class="mord mtight mathnormal" style="margin-right:.03588em">vg</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span><span class="mord">/255</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">a</span><span class="mord mtight mathnormal" style="margin-right:.03588em">vg</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span><span class="mord">/255</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:-.0502em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">a</span><span class="mord mtight mathnormal" style="margin-right:.03588em">vg</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span><span class="mord">/255</span><span class="mclose">)</span></span></span></span></span></div><p>where <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">R_{avg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9694em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:-.0077em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">a</span><span class="mord mtight mathnormal" style="margin-right:.03588em">vg</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">G_{avg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9694em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">a</span><span class="mord mtight mathnormal" style="margin-right:.03588em">vg</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span></span>, and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">B_{avg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9694em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:-.0502em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mtight mathnormal">a</span><span class="mord mtight mathnormal" style="margin-right:.03588em">vg</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span></span> are means of each image channel (R, B, G). Scale the mean values to the maximum intensity value of an image which is generally 255 (8-bit).</p><blockquote><p>Images are generally stored in JPEG or PNG in <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/SRGB">sRGB</a> format. To mimic the human perception of non-linear luminance factor, while taking pictures, exposure values are <a target="_blank" rel="noopener noreferrer" href="https://www.cambridgeincolour.com/tutorials/gamma-correction.htm">Gamma corrected</a> with a value close to 2.2. And any image processing operation should be applied on linear RGB values by converting sRGB gamma to linear RGB without gamma.</p></blockquote><p>Read source image to which we apply chromatic adaptation and transform to destination illuminant,</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#c678dd;font-style:italic">import</span><span style="color:#abb2bf"> numpy </span><span style="color:#c678dd;font-style:italic">as</span><span style="color:#abb2bf"> np</span></span>
<span class="line"><span style="color:#c678dd;font-style:italic">import</span><span style="color:#abb2bf"> cv2</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7f848e;font-style:italic"># read image which generally in sRGB format</span></span>
<span class="line"><span style="color:#abb2bf">img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> cv2.</span><span style="color:#61afef">imread</span><span style="color:#abb2bf">(</span><span style="color:#98c379">&#x27;input.jpg&#x27;</span><span style="color:#abb2bf">)</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic"># reverse channel order from BGR to RGB</span></span>
<span class="line"><span style="color:#abb2bf">img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> img[:, :, ::</span><span style="color:#56b6c2">-</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">]</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic"># scale image in range [0.0, 1.0]</span></span>
<span class="line"><span style="color:#abb2bf">img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> img </span><span style="color:#56b6c2">/</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">255.0</span></span></code></pre></div></div><p>Convert sRGB image to linear RGB</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_linear</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">srgb</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># &#x27;sRGB&#x27; in [0.0, 1.0]</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#abb2bf">    ln_rgb </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> srgb.</span><span style="color:#61afef">copy</span><span style="color:#abb2bf">()</span></span>
<span class="line"><span style="color:#abb2bf">    mask </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> ln_rgb </span><span style="color:#56b6c2">&gt;</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">0.04045</span></span>
<span class="line"><span style="color:#abb2bf">    ln_rgb[mask] </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">power</span><span style="color:#abb2bf">((ln_rgb[mask] </span><span style="color:#56b6c2">+</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">0.055</span><span style="color:#abb2bf">) </span><span style="color:#56b6c2">/</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">1.055</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">2.4</span><span style="color:#abb2bf">)</span></span>
<span class="line"><span style="color:#abb2bf">    ln_rgb[</span><span style="color:#56b6c2">~</span><span style="color:#abb2bf">mask] </span><span style="color:#56b6c2">/=</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">12.92</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> ln_rgb</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">linear_to_srgb</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">linear</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># &#x27;linear RGB&#x27; in [0.0, 1.0]</span></span>
<span class="line"><span style="color:#abb2bf">    </span></span>
<span class="line"><span style="color:#abb2bf">    srgb </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> linear.</span><span style="color:#61afef">copy</span><span style="color:#abb2bf">()</span></span>
<span class="line"><span style="color:#abb2bf">    mask </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> srgb </span><span style="color:#56b6c2">&gt;</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">0.0031308</span></span>
<span class="line"><span style="color:#abb2bf">    srgb[mask] </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">1.055</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">*</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">power</span><span style="color:#abb2bf">(srgb[mask], </span><span style="color:#d19a66">1</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">/</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">2.4</span><span style="color:#abb2bf">) </span><span style="color:#56b6c2">-</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">0.055</span></span>
<span class="line"><span style="color:#abb2bf">    srgb[</span><span style="color:#56b6c2">~</span><span style="color:#abb2bf">mask] </span><span style="color:#56b6c2">*=</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">12.92</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">clip</span><span style="color:#abb2bf">(srgb, </span><span style="color:#d19a66">0.0</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">)</span></span></code></pre></div></div><p><img alt="sRGB to linear RGB" src="chromatic-adaptation/srgb-to-linear-rgb.jpg"/></p><p>Apply gray world on linear RGB image and get illuminant</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_gray_world_illuminant</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">img</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># image in sRGB with range [0.0, 1.0]</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert sRGB to linear RGB</span></span>
<span class="line"><span style="color:#abb2bf">    ln_img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_linear</span><span style="color:#abb2bf">(img)</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># mean of each channel</span></span>
<span class="line"><span style="color:#abb2bf">    avg_ch </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> ln_img.</span><span style="color:#61afef">mean</span><span style="color:#abb2bf">(</span><span style="color:#e06c75;font-style:italic">axis</span><span style="color:#56b6c2">=</span><span style="color:#abb2bf">(</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1</span><span style="color:#abb2bf">))</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert back RGB mean values to sRGB</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> </span><span style="color:#61afef">linear_to_srgb</span><span style="color:#abb2bf">(avg_ch)</span></span></code></pre></div></div><p>Illuminant for the image is</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#abb2bf">illuminant </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_gray_world_illuminant</span><span style="color:#abb2bf">(img)</span></span></code></pre></div></div><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#56b6c2">print</span><span style="color:#abb2bf">(illuminant) </span><span style="color:#56b6c2">=&gt;</span><span style="color:#abb2bf"> </span><span style="color:#61afef">array</span><span style="color:#abb2bf">([</span><span style="color:#d19a66">0.29078475</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.39055316</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.50858647</span><span style="color:#abb2bf">])</span></span></code></pre></div></div><p>Illuminant for the above image is <strong>[0.29078475, 0.39055316, 0.50858647]</strong>. For the output illuminant, we can say that the blue color influence is higher than other color wavelengths in the image.</p><p>Now we have the illuminant of the source image, next apply chromatic adaptation for this image.</p><h3 id="chromtic-adaptation"><a href="#chromtic-adaptation" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">Chromtic adaptation</a></h3><p>We have source illuminant, to transform to destination illuminant, we consider <a target="_blank" rel="noopener noreferrer" href="https://www.waveformlighting.com/color-matching/what-is-d65-and-what-is-it-used-for">D65 standard illuminant</a> for the destination which is standard for digital images and displays. We assume that the source image was taken under a different illuminant and we now transform that image to D65 illuminant.</p><p>Illuminant for D65 white is <strong>[0.95047, 1., 1.08883]</strong>, these are the <strong>CIE XYZ</strong> values for white point of sRGB D65. sRGB values for D65 white point (all values are 255) is <strong>(1.0, 1.0, 1.0)</strong> which is destination illuminant white point.</p><p>We implement chromatic adaptation transform step-by-step.</p><blockquote><p>Every operation should be applied on <strong>linear RGB</strong></p></blockquote><p>First, convert illuminant sRGB values to <strong>CIE XYZ</strong>.</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#d19a66">RGB_TO_XYZ</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">array</span><span style="color:#abb2bf">([[</span><span style="color:#d19a66">0.412453</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.357580</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.180423</span><span style="color:#abb2bf">], </span></span>
<span class="line"><span style="color:#abb2bf">                       [</span><span style="color:#d19a66">0.212671</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.715160</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.072169</span><span style="color:#abb2bf">], </span></span>
<span class="line"><span style="color:#abb2bf">                       [</span><span style="color:#d19a66">0.019334</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.119193</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.950227</span><span style="color:#abb2bf">]])</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#d19a66">XYZ_TO_RGB</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">array</span><span style="color:#abb2bf">([[</span><span style="color:#d19a66">3.240481</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">1.537151</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.498536</span><span style="color:#abb2bf">],</span></span>
<span class="line"><span style="color:#abb2bf">                       [</span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.969256</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.875990</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.0415560</span><span style="color:#abb2bf">],</span></span>
<span class="line"><span style="color:#abb2bf">                       [</span><span style="color:#d19a66">0.055647</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.204041</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.057311</span><span style="color:#abb2bf">]])</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_xyz</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">srgb</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert &#x27;sRGB&#x27; to &#x27;linear RGB&#x27;</span></span>
<span class="line"><span style="color:#abb2bf">    rgb </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_linear</span><span style="color:#abb2bf">(srgb)</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert &#x27;linear RGB&#x27; to &#x27;XYZ&#x27;</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> rgb </span><span style="color:#56b6c2">@</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">RGB_TO_XYZ</span><span style="color:#abb2bf">.T</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">xyz_to_srgb</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">xyz</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert &#x27;XYZ&#x27; to &#x27;linear RGB&#x27;</span></span>
<span class="line"><span style="color:#abb2bf">    rgb </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> xyz </span><span style="color:#56b6c2">@</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">XYZ_TO_RGB</span><span style="color:#abb2bf">.T</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert back &#x27;linear RGB&#x27; to &#x27;sRGB&#x27;</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> </span><span style="color:#61afef">linear_to_srgb</span><span style="color:#abb2bf">(rgb)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">normalize_xyz</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">xyz</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># normalize xyz with &#x27;y&#x27; so that &#x27;y&#x27; represents luminance</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> xyz </span><span style="color:#56b6c2">/</span><span style="color:#abb2bf"> xyz[</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">]</span></span></code></pre></div></div><p>Convert sRGB to XYZ passing source and destination white points</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#7f848e;font-style:italic"># source illuminant white point obtained from previous step </span></span>
<span class="line"><span style="color:#abb2bf">src_white_point </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> illuminant</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic"># destination illuminant white point scale to 1.0</span></span>
<span class="line"><span style="color:#abb2bf">dst_white_point </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> (</span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7f848e;font-style:italic"># convert white point in &#x27;sRGB&#x27; to &#x27;XYZ&#x27; </span></span>
<span class="line"><span style="color:#7f848e;font-style:italic"># and normalize &#x27;XYZ&#x27; that &#x27;Y&#x27; as luminance</span></span>
<span class="line"><span style="color:#abb2bf">xyz_src </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_xyz</span><span style="color:#abb2bf">(src_white_point)</span></span>
<span class="line"><span style="color:#abb2bf">n_xyz_src </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">normalize_xyz</span><span style="color:#abb2bf">(xyz_src)</span></span>
<span class="line"><span style="color:#abb2bf">xyz_dst </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_xyz</span><span style="color:#abb2bf">(dst_white_point)</span></span>
<span class="line"><span style="color:#abb2bf">n_xyz_dst </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">normalize_xyz</span><span style="color:#abb2bf">(xyz_dst)</span></span></code></pre></div></div><p>Next, convert XYZ values to LMS cone space by transforming XYZ values with CAT transform matrix. Multiple CAT matrices exist and the Bradford model is popular among all these types.</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#d19a66">BRADFORD</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">array</span><span style="color:#abb2bf">([[</span><span style="color:#d19a66">0.8951</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.2664</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.1614</span><span style="color:#abb2bf">], </span></span>
<span class="line"><span style="color:#abb2bf">                     [</span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.7502</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.7135</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.0367</span><span style="color:#abb2bf">], </span></span>
<span class="line"><span style="color:#abb2bf">                     [</span><span style="color:#d19a66">0.0389</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.0685</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.0296</span><span style="color:#abb2bf">]])</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#d19a66">VON_KRIES</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">array</span><span style="color:#abb2bf">([[</span><span style="color:#d19a66">0.40024</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.70760</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.08081</span><span style="color:#abb2bf">],</span></span>
<span class="line"><span style="color:#abb2bf">                      [</span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.22630</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.16532</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.04570</span><span style="color:#abb2bf">],</span></span>
<span class="line"><span style="color:#abb2bf">                      [</span><span style="color:#d19a66">0.00000</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.00000</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.91822</span><span style="color:#abb2bf">]])</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#d19a66">SHARP</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">array</span><span style="color:#abb2bf">([[</span><span style="color:#d19a66">1.2694</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.0988</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.1706</span><span style="color:#abb2bf">],</span></span>
<span class="line"><span style="color:#abb2bf">                  [</span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.8364</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.8006</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.0357</span><span style="color:#abb2bf">],</span></span>
<span class="line"><span style="color:#abb2bf">                  [</span><span style="color:#d19a66">0.0297</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.0315</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.0018</span><span style="color:#abb2bf">]])</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#d19a66">CAT2000</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">array</span><span style="color:#abb2bf">([[</span><span style="color:#d19a66">0.7982</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.3389</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.1371</span><span style="color:#abb2bf">],</span></span>
<span class="line"><span style="color:#abb2bf">                    [</span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.5918</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.5512</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.0406</span><span style="color:#abb2bf">], </span></span>
<span class="line"><span style="color:#abb2bf">                    [</span><span style="color:#d19a66">0.0008</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.2390</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.9753</span><span style="color:#abb2bf">]])</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#d19a66">CAT02</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">array</span><span style="color:#abb2bf">([[</span><span style="color:#d19a66">0.7328</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.4296</span><span style="color:#abb2bf">, </span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.1624</span><span style="color:#abb2bf">],</span></span>
<span class="line"><span style="color:#abb2bf">                  [</span><span style="color:#56b6c2">-</span><span style="color:#d19a66">0.7036</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.6975</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.0061</span><span style="color:#abb2bf">],</span></span>
<span class="line"><span style="color:#abb2bf">                  [</span><span style="color:#d19a66">0.0030</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.0136</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">0.9834</span><span style="color:#abb2bf">]])</span></span></code></pre></div></div><p>Convert XYZ values to LMS and get gain scale factors by dividing destination LMS with source LMS.</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_cat_matrix</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">cat_type</span><span style="color:#abb2bf"> = </span><span style="color:#98c379">&#x27;BRADFORD&#x27;</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">if</span><span style="color:#abb2bf"> cat_type </span><span style="color:#56b6c2">==</span><span style="color:#abb2bf"> </span><span style="color:#98c379">&#x27;BRADFORD&#x27;</span><span style="color:#abb2bf">:</span></span>
<span class="line"><span style="color:#abb2bf">        </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">BRADFORD</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">elif</span><span style="color:#abb2bf"> cat_type </span><span style="color:#56b6c2">==</span><span style="color:#abb2bf"> </span><span style="color:#98c379">&#x27;VON_KRIES&#x27;</span><span style="color:#abb2bf">:</span></span>
<span class="line"><span style="color:#abb2bf">        </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">VON_KRIES</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">elif</span><span style="color:#abb2bf"> cat_type </span><span style="color:#56b6c2">==</span><span style="color:#abb2bf"> </span><span style="color:#98c379">&#x27;SHARP&#x27;</span><span style="color:#abb2bf">:</span></span>
<span class="line"><span style="color:#abb2bf">        </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">SHARP</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">elif</span><span style="color:#abb2bf"> cat_type </span><span style="color:#56b6c2">==</span><span style="color:#abb2bf"> </span><span style="color:#98c379">&#x27;CAT2000&#x27;</span><span style="color:#abb2bf">:</span></span>
<span class="line"><span style="color:#abb2bf">        </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">CAT2000</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">else</span><span style="color:#abb2bf">:</span></span>
<span class="line"><span style="color:#abb2bf">        </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">CAT02</span></span>
<span class="line"><span style="color:#abb2bf">    </span></span>
<span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">xyz_to_lms</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">xyz</span><span style="color:#abb2bf">, </span><span style="color:#d19a66;font-style:italic">M</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> xyz </span><span style="color:#56b6c2">@</span><span style="color:#abb2bf"> M.T</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_gain</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">lms_src</span><span style="color:#abb2bf">, </span><span style="color:#d19a66;font-style:italic">lms_dst</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> lms_dst </span><span style="color:#56b6c2">/</span><span style="color:#abb2bf"> lms_src</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">transform_lms</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">M</span><span style="color:#abb2bf">, </span><span style="color:#d19a66;font-style:italic">gain</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> np.linalg.</span><span style="color:#61afef">inv</span><span style="color:#abb2bf">(M) </span><span style="color:#56b6c2">@</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">diag</span><span style="color:#abb2bf">(gain) </span><span style="color:#56b6c2">@</span><span style="color:#abb2bf"> M</span></span></code></pre></div></div><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#7f848e;font-style:italic"># get CAT type matrix</span></span>
<span class="line"><span style="color:#abb2bf">cat_m </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_cat_matrix</span><span style="color:#abb2bf">(</span><span style="color:#98c379">&#x27;BRADFORD&#x27;</span><span style="color:#abb2bf">)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7f848e;font-style:italic"># convert &#x27;XYZ&#x27; to &#x27;LMS&#x27;</span></span>
<span class="line"><span style="color:#abb2bf">lms_src </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">xyz_to_lms</span><span style="color:#abb2bf">(n_xyz_src, cat_m)</span></span>
<span class="line"><span style="color:#abb2bf">lms_dst </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">xyz_to_lms</span><span style="color:#abb2bf">(n_xyz_dst, cat_m)</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic"># LMS gain by scaling destination with source LMS</span></span>
<span class="line"><span style="color:#abb2bf">gain </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_gain</span><span style="color:#abb2bf">(lms_src, lms_dst)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7f848e;font-style:italic"># multiply CAT matrix with LMS gain factors</span></span>
<span class="line"><span style="color:#abb2bf">ca_transform </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">transform_lms</span><span style="color:#abb2bf">(cat_m, gain)</span></span></code></pre></div></div><p><em>ca_transform()</em> applies chromatic adaptation transformation on LMS gain factors and then converts back the LMS values to XYZ by multiplying with the inverse transform of CAT matrix.</p><p>Transform the source image to destination illuminant by multiplying XYZ values with chromatic adaptation transformation XYZ values.</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#7f848e;font-style:italic"># convert &#x27;sRGB&#x27; source image to &#x27;XYZ&#x27; </span></span>
<span class="line"><span style="color:#abb2bf">src_img_xyz </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_xyz</span><span style="color:#abb2bf">(img)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7f848e;font-style:italic"># apply CAT transform to image</span></span>
<span class="line"><span style="color:#abb2bf">transformed_xyz </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> src_img_xyz </span><span style="color:#56b6c2">@</span><span style="color:#abb2bf"> ca_transform.T</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7f848e;font-style:italic"># convert back &#x27;XYZ&#x27; to &#x27;sRGB&#x27; image</span></span>
<span class="line"><span style="color:#abb2bf">transformed_img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">xyz_to_srgb</span><span style="color:#abb2bf">(transformed_xyz)</span></span></code></pre></div></div><p><strong>transformed_img</strong> is the final image after transformation.</p><p>The final chromatic adaptation function that transforms source image to destination illuminant is</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">chromatic_adaptation_image</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">src_white_point</span><span style="color:#abb2bf">, </span><span style="color:#d19a66;font-style:italic">dst_white_point</span><span style="color:#abb2bf">, </span><span style="color:#d19a66;font-style:italic">src_img</span><span style="color:#abb2bf">, </span><span style="color:#d19a66;font-style:italic">cat_type</span><span style="color:#abb2bf"> = </span><span style="color:#98c379">&#x27;BRADFORD&#x27;</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert white point in &#x27;sRGB&#x27; to &#x27;XYZ&#x27; </span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># and normalize &#x27;XYZ&#x27; that &#x27;Y&#x27; as luminance</span></span>
<span class="line"><span style="color:#abb2bf">    xyz_src </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_xyz</span><span style="color:#abb2bf">(src_white_point)</span></span>
<span class="line"><span style="color:#abb2bf">    n_xyz_src </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">normalize_xyz</span><span style="color:#abb2bf">(xyz_src)</span></span>
<span class="line"><span style="color:#abb2bf">    xyz_dst </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_xyz</span><span style="color:#abb2bf">(dst_white_point)</span></span>
<span class="line"><span style="color:#abb2bf">    n_xyz_dst </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">normalize_xyz</span><span style="color:#abb2bf">(xyz_dst)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># get CAT type matrix</span></span>
<span class="line"><span style="color:#abb2bf">    cat_m </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_cat_matrix</span><span style="color:#abb2bf">(cat_type)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert &#x27;XYZ&#x27; to &#x27;LMS&#x27;</span></span>
<span class="line"><span style="color:#abb2bf">    lms_src </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">xyz_to_lms</span><span style="color:#abb2bf">(n_xyz_src, cat_m)</span></span>
<span class="line"><span style="color:#abb2bf">    lms_dst </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">xyz_to_lms</span><span style="color:#abb2bf">(n_xyz_dst, cat_m)</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># LMS gain by scaling destination with source LMS</span></span>
<span class="line"><span style="color:#abb2bf">    gain </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_gain</span><span style="color:#abb2bf">(lms_src, lms_dst)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># multiply CAT matrix with LMS gain factors</span></span>
<span class="line"><span style="color:#abb2bf">    ca_transform </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">transform_lms</span><span style="color:#abb2bf">(cat_m, gain)</span></span>
<span class="line"><span style="color:#abb2bf">    </span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert &#x27;sRGB&#x27; source image to &#x27;XYZ&#x27; </span></span>
<span class="line"><span style="color:#abb2bf">    src_img_xyz </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">srgb_to_xyz</span><span style="color:#abb2bf">(src_img)</span></span>
<span class="line"><span style="color:#abb2bf">    </span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># apply CAT transform to image</span></span>
<span class="line"><span style="color:#abb2bf">    transformed_xyz </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> src_img_xyz </span><span style="color:#56b6c2">@</span><span style="color:#abb2bf"> ca_transform.T</span></span>
<span class="line"><span style="color:#abb2bf">    </span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># convert back &#x27;XYZ&#x27; to &#x27;sRGB&#x27; image</span></span>
<span class="line"><span style="color:#abb2bf">    transformed_img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">xyz_to_srgb</span><span style="color:#abb2bf">(transformed_xyz)</span></span>
<span class="line"><span style="color:#abb2bf">    </span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> transformed_img</span></span></code></pre></div></div><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#7f848e;font-style:italic"># read image which generally in sRGB format</span></span>
<span class="line"><span style="color:#abb2bf">img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> cv2.</span><span style="color:#61afef">imread</span><span style="color:#abb2bf">(</span><span style="color:#98c379">&#x27;input.jpg&#x27;</span><span style="color:#abb2bf">)</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic"># reverse channel order from BGR to RGB and scale to 1.0</span></span>
<span class="line"><span style="color:#abb2bf">r_img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> img[:, :, ::</span><span style="color:#56b6c2">-</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">] </span><span style="color:#56b6c2">/</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">255</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic"># get source illuminant by illumination estimation</span></span>
<span class="line"><span style="color:#abb2bf">src_white_point </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_gray_world_illuminant</span><span style="color:#abb2bf">(r_img)</span></span>
<span class="line"><span style="color:#abb2bf">dst_white_point </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">array</span><span style="color:#abb2bf">([</span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">])</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic"># apply chromatic apatation for source image</span></span>
<span class="line"><span style="color:#abb2bf">ca_img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">chromatic_adaptation_image</span><span style="color:#abb2bf">(src_white_point, dst_white_point, r_img, </span><span style="color:#e06c75;font-style:italic">cat_type</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#x27;BRADFORD&#x27;</span><span style="color:#abb2bf">)</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic"># reverse channel order from RGB to BGR, and rescale to 255</span></span>
<span class="line"><span style="color:#abb2bf">ca_img </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> (ca_img[:, :, ::</span><span style="color:#56b6c2">-</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">] </span><span style="color:#56b6c2">*</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">255</span><span style="color:#abb2bf">).</span><span style="color:#61afef">astype</span><span style="color:#abb2bf">(np.uint8)</span></span></code></pre></div></div><p><img alt="Chromatic adaptation transform Batman" src="chromatic-adaptation/chromatic-adaptation-transform-batman.jpg"/> <img alt="Chromatic adaptation transform Pool" src="chromatic-adaptation/chromatic-adaptation-transform-pool.jpg"/></p><p>As chromatic adaptation is done with reference white point, the transformed images contain improved white color ranges and other colors are transformed based on illumination transform obtained by white point transform.</p><p>As illumination estimation is a crucial step, we can improve results further by applying other illumination estimation methods and images with uniform color objects.</p><hr/><h3 id="colorchecker"><a href="#colorchecker" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">ColorChecker</a></h3><p><a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/ColorChecker">ColorChecker</a> is a color checker chart containing multiple color squares or rectangles in a grid. ColorChecker chart contains a range of spectral reflectance color patches that represents natural object colors like human skin, leaves, flowers, sky, etc. These color patches on a whole represent all possible intensity ranges that are suitable for many uniform illumination conditions.</p><p>ColorChecker charts are used in photography while shooting images/videos under varying illumination conditions. Multiple scenes are shot under varying lighting conditions placing ColorChecker chart in the scene, and later based on the color patches illumination, images are adjusted to destination illuminant. This process is called color grading and it involves several steps including chromatic adaptation.</p><p><img alt="ColorChecker chart:=:40:=:Macbeth ColorChecker chart" src="chromatic-adaptation/color-checker.jpg"/></p><p>As the color checker chart contains uniform color ranges, we can use this chart to estimate the illuminant of an image. We can detect ColorChecker chart in an image using OpenCV using OpenCV-Contrib module <strong>mcc</strong> (Macbeth ColorChecker).</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_colorchecker_coord</span><span style="color:#abb2bf">(</span><span style="color:#d19a66;font-style:italic">img</span><span style="color:#abb2bf">):</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># initialize CCDetector object</span></span>
<span class="line"><span style="color:#abb2bf">    checker_detector </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> cv2.mcc.</span><span style="color:#61afef">CCheckerDetector_create</span><span style="color:#abb2bf">()</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># detect classic Macbeth 24 color grid chart</span></span>
<span class="line"><span style="color:#abb2bf">    has_chart </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> checker_detector.</span><span style="color:#61afef">process</span><span style="color:#abb2bf">(img, cv2.mcc.</span><span style="color:#d19a66">MCC24</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1</span><span style="color:#abb2bf">)</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#7f848e;font-style:italic"># if any chart present</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">if</span><span style="color:#abb2bf"> has_chart:</span></span>
<span class="line"><span style="color:#abb2bf">        </span><span style="color:#7f848e;font-style:italic"># ColorChecker chart coordinates</span></span>
<span class="line"><span style="color:#abb2bf">        </span><span style="color:#7f848e;font-style:italic"># order - (tl, tr, br, bl)</span></span>
<span class="line"><span style="color:#abb2bf">        box </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> checker_detector.</span><span style="color:#61afef">getListColorChecker</span><span style="color:#abb2bf">()[</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">].</span><span style="color:#61afef">getBox</span><span style="color:#abb2bf">()</span></span>
<span class="line"><span style="color:#abb2bf">        min_x </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">int</span><span style="color:#abb2bf">(</span><span style="color:#56b6c2">min</span><span style="color:#abb2bf">(box[</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">], box[</span><span style="color:#d19a66">3</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">]))</span></span>
<span class="line"><span style="color:#abb2bf">        max_x </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">int</span><span style="color:#abb2bf">(</span><span style="color:#56b6c2">max</span><span style="color:#abb2bf">(box[</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">], box[</span><span style="color:#d19a66">2</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">]))</span></span>
<span class="line"><span style="color:#abb2bf">        min_y </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">int</span><span style="color:#abb2bf">(</span><span style="color:#56b6c2">min</span><span style="color:#abb2bf">(box[</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">], box[</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">]))</span></span>
<span class="line"><span style="color:#abb2bf">        max_y </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#56b6c2">int</span><span style="color:#abb2bf">(</span><span style="color:#56b6c2">max</span><span style="color:#abb2bf">(box[</span><span style="color:#d19a66">2</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">], box[</span><span style="color:#d19a66">3</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">]))</span></span>
<span class="line"><span style="color:#abb2bf">        coord </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> [(min_x, min_y), (max_x, max_y)]</span></span>
<span class="line"><span style="color:#abb2bf">        </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> [</span><span style="color:#d19a66">True</span><span style="color:#abb2bf">, coord]</span></span>
<span class="line"><span style="color:#abb2bf">    </span><span style="color:#c678dd;font-style:italic">else</span><span style="color:#abb2bf">:</span></span>
<span class="line"><span style="color:#abb2bf">        </span><span style="color:#c678dd;font-style:italic">return</span><span style="color:#abb2bf"> [</span><span style="color:#d19a66">False</span><span style="color:#abb2bf">, []]</span></span></code></pre></div></div><p>The above function returns rectangle coordinates (top-left, bottom-right) for ColorChecker chart if present in an image.</p><p>We extract ColorChecker from an image and estimate illuminant for only that extracted color chart as it contains uniform color ranges that give a good estimation of illuminant than the whole image.</p><div data-rehype-pretty-code-fragment=""><div class="relative"><pre><code data-language="python" data-theme="default"><span class="line"><span style="color:#abb2bf">src_white_point </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> np.</span><span style="color:#61afef">array</span><span style="color:#abb2bf">([</span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">, </span><span style="color:#d19a66">1.0</span><span style="color:#abb2bf">])</span></span>
<span class="line"><span style="color:#abb2bf">has_chart, coord </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_colorchecker_coord</span><span style="color:#abb2bf">(img)</span></span>
<span class="line"><span style="color:#c678dd;font-style:italic">if</span><span style="color:#abb2bf"> has_chart:</span></span>
<span class="line"><span style="color:#abb2bf">    src_white_point </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_gray_world_illuminant</span><span style="color:#abb2bf">(r_img[coord[</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">]: coord[</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">], coord[</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">]: coord[</span><span style="color:#d19a66">1</span><span style="color:#abb2bf">][</span><span style="color:#d19a66">0</span><span style="color:#abb2bf">]])</span></span>
<span class="line"><span style="color:#c678dd;font-style:italic">else</span><span style="color:#abb2bf">:</span></span>
<span class="line"><span style="color:#abb2bf">    src_white_point </span><span style="color:#56b6c2">=</span><span style="color:#abb2bf"> </span><span style="color:#61afef">get_gray_world_illuminant</span><span style="color:#abb2bf">(r_img)</span></span></code></pre></div></div><p><img alt="Detect ColorChecker chart" src="chromatic-adaptation/detec-colorchecker-chart.jpg"/></p><p>Chromatic adaptation of the above image with illuminant obtained from cropped ColorChecker chart is</p><p><img alt="Chromatic adptation ColorChecker Batman" src="chromatic-adaptation/chromatic-adaptation-batman-comparison.jpg"/></p><p>Some regions and color ranges of transformed images of <strong>Img 1</strong> and <strong>Img 2</strong> are close to each other because we have applied the same destination illuminant for both images and this gives the conclusion that chromatic adaptation works to transform images from one illuminant to another.</p><hr/><p>We can improve transformation further with better illumination estimation models (both uniform and non-uniform) and compare various chromatic adaptation transform models.</p><h3 id="references"><a href="#references" class="anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[&#x27;&#x27;] hover:before:bg-[url(&#x27;/link.svg&#x27;)]">References</a></h3><ul><li><a target="_blank" rel="noopener noreferrer" href="https://www.cell.com/current-biology/pdf/S0960-9822(07)01839-8.pdf">https://www.cell.com/current-biology/pdf/S0960-9822(07)01839-8.pdf</a></li><li><a target="_blank" rel="noopener noreferrer" href="http://www.marcelpatek.com/color.html">http://www.marcelpatek.com/color.html</a></li><li><a target="_blank" rel="noopener noreferrer" href="http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html">http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://web.stanford.edu/~sujason/ColorBalancing/adaptation.html">https://web.stanford.edu/~sujason/ColorBalancing/adaptation.html</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://in.mathworks.com/help/images/color.html">https://in.mathworks.com/help/images/color.html</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://in.mathworks.com/matlabcentral/fileexchange/66682-chromadapt-adjust-color-balance-of-rgb-image-with-chromatic">https://in.mathworks.com/matlabcentral/fileexchange/66682-chromadapt-adjust-color-balance-of-rgb-image-with-chromatic</a></li></ul></div><!--/$--></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"toc":[{"value":"Color constancy of an image using Chromatic adaptation","url":"#color-constancy-of-an-image-using-chromatic-adaptation","depth":1},{"value":"Color constancy","url":"#color-constancy","depth":2},{"value":"Chromatic adaptation","url":"#chromatic-adaptation","depth":2},{"value":"Von Kries transform","url":"#von-kries-transform","depth":3},{"value":"Chromatic adaptation transform","url":"#chromatic-adaptation-transform","depth":2},{"value":"Implementation of Chromatic adaptation transform","url":"#implementation-of-chromatic-adaptation-transform","depth":2},{"value":"Illumination estimation of image","url":"#illumination-estimation-of-image","depth":3},{"value":"Gray world assumption illuminant estimation","url":"#gray-world-assumption-illuminant-estimation","depth":3},{"value":"Chromtic adaptation","url":"#chromtic-adaptation","depth":3},{"value":"ColorChecker","url":"#colorchecker","depth":3},{"value":"References","url":"#references","depth":3}],"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    h1: \"h1\",\n    a: \"a\",\n    h2: \"h2\",\n    h3: \"h3\",\n    strong: \"strong\",\n    hr: \"hr\",\n    blockquote: \"blockquote\",\n    div: \"div\",\n    span: \"span\",\n    math: \"math\",\n    semantics: \"semantics\",\n    mrow: \"mrow\",\n    mo: \"mo\",\n    mtable: \"mtable\",\n    mtr: \"mtr\",\n    mtd: \"mtd\",\n    mstyle: \"mstyle\",\n    msub: \"msub\",\n    mi: \"mi\",\n    mn: \"mn\",\n    annotation: \"annotation\",\n    svg: \"svg\",\n    path: \"path\",\n    msubsup: \"msubsup\",\n    ol: \"ol\",\n    li: \"li\",\n    ul: \"ul\",\n    pre: \"pre\",\n    code: \"code\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.img, {\n        alt: \"Color constancy of an image using Chromatic adaptation\",\n        src: \"chromatic-adaptation/chromatic-adaptation.jpg\"\n      })\n    }), _jsx(_components.h1, {\n      id: \"color-constancy-of-an-image-using-chromatic-adaptation\",\n      children: _jsx(_components.a, {\n        href: \"#color-constancy-of-an-image-using-chromatic-adaptation\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"Color constancy of an image using Chromatic adaptation\"\n      })\n    }), _jsx(_components.h2, {\n      id: \"color-constancy\",\n      children: _jsx(_components.a, {\n        href: \"#color-constancy\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"Color constancy\"\n      })\n    }), _jsx(_components.p, {\n      children: \"Color constancy is the tendency of the human color system that ensures the color perception of objects is relatively constant under varying illumination conditions. It means we observe the same object colors for different light conditions.\"\n    }), _jsx(_components.p, {\n      children: \"Like for example, under a greenish light source, the color of the apple looks relatively red even though the intensity of the green wavelength is greater than other colors. It's unknown how we (and some other animals) have this color perception system.\"\n    }), _jsx(_components.p, {\n      children: \"Several mechanisms like metamerism, chromatic adaptation, memory map, etc. are involved in achieving color constancy. Metamerism happens when two object looks the same color even though the reflectance wavelengths are not the same but overall color is the same. Our memory map of object colors helps our eyes to adjust the color perception after some time under different illuminations.\"\n    }), _jsx(_components.p, {\n      children: \"Color constancy is not true in every object case, for some objects under certain illumination conditions, it could be inverse. Color constancy happens in most of the cases for objects if we have seen them before and for other objects/surfaces, we observe the color of major intensity wavelength. Color constancy depends heavily on the illumination source and neighborhood surface.\"\n    }), _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        alt: \"Checker Shadow Illusion:=:50:=:Even though both A and B are the same gray color, A appears darker than B because of shadow from the cylinder which changes illumination on B\",\n        src: \"chromatic-adaptation/checker-shadow-illusion.jpg\"\n      })\n    }), _jsx(_components.p, {\n      children: \"Several theories like photoreceptor sensitivity, retinex, color map, etc, try to measure the color constancy using different mechanisms.\"\n    }), _jsx(_components.h2, {\n      id: \"chromatic-adaptation\",\n      children: _jsx(_components.a, {\n        href: \"#chromatic-adaptation\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"Chromatic adaptation\"\n      })\n    }), _jsx(_components.p, {\n      children: \"Chromatic adaptation is one of the mechanisms involved in color constancy and is defined as the ability of human color perception to adjust the retina/cortex sensitivity for changes in the illuminant color system. Chromatic adaptation is closely related to the adjustment of cone sensitivity that happens in our eyes when the illumination changes. Like our eyes adjust to see the objects as constant colors under different day-light conditions like sunrise, mid-day, and sunset. In all these conditions, we perceive object colors as the same. This could be opposite in some conditions where we see opposite colors instead of relative colors.\"\n    }), _jsx(_components.p, {\n      children: \"In computer vision, computation color constancy is achieving human color constancy using different methods based on color constancy mechanisms. And chromatic adaptation technique is one of the methods to achieve computational color constancy based on illumination.\"\n    }), _jsx(_components.h3, {\n      id: \"von-kries-transform\",\n      children: _jsx(_components.a, {\n        href: \"#von-kries-transform\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"Von Kries transform\"\n      })\n    }), _jsx(_components.p, {\n      children: \"The Von Kries chromatic adaptation technique is based on the LMS cone sensitivity response function. LMS cones responses in the retina are independent of each other and they adjust independently for varying illuminations. Each cone increases or decreases responsiveness based on illuminant spectral energy. Each cone cell gains (increase or decrease) some spectral sensitivity response to adapt for new illumination from the previous illumination to perceive object constant colors.\"\n    }), _jsxs(_components.p, {\n      children: [\"Based on LMS cones gain, Von Kries adaptation transforms one illuminant to other to keep the \", _jsx(_components.strong, {\n        children: \"white color\"\n      }), \" constant in both systems. Von Kries transform based on LMS cone sensitivity is the base for chromatic adaptation transforms proposed later.\"]\n    }), _jsx(_components.hr, {}), _jsx(_components.h2, {\n      id: \"chromatic-adaptation-transform\",\n      children: _jsx(_components.a, {\n        href: \"#chromatic-adaptation-transform\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"Chromatic adaptation transform\"\n      })\n    }), _jsx(_components.p, {\n      children: \"Von Kries chromatic adaptation transformation is a linear transformation of the source color to destination color based on LMS cones gain for adaptation to destination illuminant. That is, we can transform the color in one illuminant to other illuminants if we scale the color with a gain of LMS for adaptation to color constancy.\"\n    }), _jsx(_components.blockquote, {\n      children: _jsxs(_components.p, {\n        children: [\"If you're not familiar with concepts like \", _jsx(_components.strong, {\n          children: \"CIE RGB\"\n        }), \", \", _jsx(_components.strong, {\n          children: \"CIE XYZ\"\n        }), \" tristimulus values, \", _jsx(_components.strong, {\n          children: \"chromaticity diagram\"\n        }), \", and other color science topics, please refer to those topics at my previous blog about \", _jsx(_components.a, {\n          href: \"https://santhalakshminarayana.github.io/blog/color-science\",\n          children: \"color-science\"\n        }), \".\"]\n      })\n    }), _jsx(_components.p, {\n      children: \"The destination LMS cone responses can be calculated by multiplying the gain LMS with source LMS cone responses. In matrix form, the representation is\"\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"L\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"M\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"S\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center center center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"L\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"L\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"M\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"M\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"S\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"S\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        })]\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"L\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"M\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"S\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"\\\\begin{bmatrix} L_{D} \\\\\\\\ M_{D} \\\\\\\\ S_{D} \\\\\\\\ \\\\end{bmatrix} = \\\\begin{bmatrix} L_{D}/L_{S} \u0026 0 \u0026 0 \\\\\\\\ 0 \u0026 M_{D}/M_{S} \u0026 0 \\\\\\\\ 0 \u0026 0 \u0026 S_{D}/S_{S} \\\\\\\\ \\\\end{bmatrix} \\\\begin{bmatrix} L_{S} \\\\\\\\ M_{S} \\\\\\\\ S_{S} \\\\\\\\ \\\\end{bmatrix}\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    children: \"L\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"0\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsxs(_components.span, {\n                    className: \"mtable\",\n                    children: [_jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    children: \"L\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"0\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    children: \"L\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"0\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })]\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    children: \"L\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"0\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [\"where \", _jsx(_components.strong, {\n        children: \"L, M, and S\"\n      }), \" of source and destination are represented in \", _jsx(_components.strong, {\n        children: \"CIE LMS color space\"\n      }), \", and \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"L\"\n                    }), _jsx(_components.mi, {\n                      children: \"D\"\n                    })]\n                  }), _jsx(_components.mi, {\n                    mathvariant: \"normal\",\n                    children: \"/\"\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"L\"\n                    }), _jsx(_components.mi, {\n                      children: \"S\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"L_{D}/L_{S}\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1em\",\n                  verticalAlign: \"-.25em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  children: \"L\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"0\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".02778em\"\n                                },\n                                children: \"D\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mord\",\n                children: \"/\"\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  children: \"L\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"0\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".05764em\"\n                                },\n                                children: \"S\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              })]\n            })\n          })]\n        })\n      }), \", \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"D\"\n                    })]\n                  }), _jsx(_components.mi, {\n                    mathvariant: \"normal\",\n                    children: \"/\"\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"S\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"M_{D}/M_{S}\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1em\",\n                  verticalAlign: \"-.25em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".02778em\"\n                                },\n                                children: \"D\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mord\",\n                children: \"/\"\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".05764em\"\n                                },\n                                children: \"S\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              })]\n            })\n          })]\n        })\n      }), \", and \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"S\"\n                    }), _jsx(_components.mi, {\n                      children: \"D\"\n                    })]\n                  }), _jsx(_components.mi, {\n                    mathvariant: \"normal\",\n                    children: \"/\"\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"S\"\n                    }), _jsx(_components.mi, {\n                      children: \"S\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"S_{D}/S_{S}\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1em\",\n                  verticalAlign: \"-.25em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".05764em\"\n                  },\n                  children: \"S\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.0576em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".02778em\"\n                                },\n                                children: \"D\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mord\",\n                children: \"/\"\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".05764em\"\n                  },\n                  children: \"S\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.0576em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".05764em\"\n                                },\n                                children: \"S\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              })]\n            })\n          })]\n        })\n      }), \" are gain factors for source to destination illumination adaptation.\"]\n    }), _jsxs(_components.p, {\n      children: [\"As color representation in \", _jsx(_components.strong, {\n        children: \"LMS color space\"\n      }), \" is difficult and not practiced, transform the \", _jsx(_components.strong, {\n        children: \"LMS color space\"\n      }), \" to \", _jsx(_components.strong, {\n        children: \"CIE XYZ\"\n      }), \". When a transformation is performed in \", _jsx(_components.strong, {\n        children: \"CIE XYZ\"\n      }), \" or any other space but not \", _jsx(_components.strong, {\n        children: \"LMS cone space\"\n      }), \" is called \", _jsx(_components.strong, {\n        children: \"Wrong Von Kries\"\n      }), \".\"]\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"L\"\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"M\"\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"S\"\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"A\"\n                    })]\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"X\"\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"Y\"\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"Z\"\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"\\\\begin{bmatrix} L \\\\\\\\ M \\\\\\\\ S \\\\\\\\ \\\\end{bmatrix} = M_{A} \\\\begin{bmatrix} X \\\\\\\\ Y \\\\\\\\ Z \\\\\\\\ \\\\end{bmatrix}\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  children: \"L\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".10903em\"\n                                  },\n                                  children: \"M\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".05764em\"\n                                  },\n                                  children: \"S\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"A\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".07847em\"\n                                  },\n                                  children: \"X\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".22222em\"\n                                  },\n                                  children: \"Y\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".07153em\"\n                                  },\n                                  children: \"Z\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"L\"\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"M\"\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"S\"\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center center center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"a\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"b\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"c\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"d\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"e\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"f\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"g\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"h\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"i\"\n                            })\n                          })\n                        })]\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"X\"\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"Y\"\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mi, {\n                              children: \"Z\"\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"\\\\begin{bmatrix} L \\\\\\\\ M \\\\\\\\ S \\\\\\\\ \\\\end{bmatrix} = \\\\begin{bmatrix} a \u0026 b \u0026 c \\\\\\\\ d \u0026 e \u0026 f \\\\\\\\ g \u0026 h \u0026 i \\\\\\\\ \\\\end{bmatrix} \\\\begin{bmatrix} X \\\\\\\\ Y \\\\\\\\ Z \\\\\\\\ \\\\end{bmatrix}\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  children: \"L\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".10903em\"\n                                  },\n                                  children: \"M\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".05764em\"\n                                  },\n                                  children: \"S\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsxs(_components.span, {\n                    className: \"mtable\",\n                    children: [_jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  children: \"a\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  children: \"d\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".03588em\"\n                                  },\n                                  children: \"g\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  children: \"b\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  children: \"e\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  children: \"h\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  children: \"c\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".10764em\"\n                                  },\n                                  children: \"f\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  children: \"i\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })]\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".07847em\"\n                                  },\n                                  children: \"X\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".22222em\"\n                                  },\n                                  children: \"Y\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord mathnormal\",\n                                  style: {\n                                    marginRight: \".07153em\"\n                                  },\n                                  children: \"Z\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [\"where the transformation matrix \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsx(_components.mrow, {\n                  children: _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"A\"\n                    })]\n                  })\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"M_{A}\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \".8333em\",\n                  verticalAlign: \"-.15em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"A\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              })]\n            })\n          })]\n        })\n      }), \" with dimensions \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsx(_components.mn, {\n                    children: \"3\"\n                  }), _jsx(_components.mi, {\n                    children: \"x\"\n                  }), _jsx(_components.mn, {\n                    children: \"3\"\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"3x3\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \".6444em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord\",\n                children: \"3\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"x\"\n              }), _jsx(_components.span, {\n                className: \"mord\",\n                children: \"3\"\n              })]\n            })\n          })]\n        })\n      }), \" and independent gain control factors \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \"(\"\n                  }), _jsx(_components.mi, {\n                    children: \"a\"\n                  }), _jsx(_components.mo, {\n                    separator: \"true\",\n                    children: \",\"\n                  }), _jsx(_components.mi, {\n                    children: \"e\"\n                  }), _jsx(_components.mo, {\n                    separator: \"true\",\n                    children: \",\"\n                  }), _jsx(_components.mi, {\n                    children: \"i\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \")\"\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"(a, e, i)\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1em\",\n                  verticalAlign: \"-.25em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mopen\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"a\"\n              }), _jsx(_components.span, {\n                className: \"mpunct\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"e\"\n              }), _jsx(_components.span, {\n                className: \"mpunct\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"i\"\n              }), _jsx(_components.span, {\n                className: \"mclose\",\n                children: \")\"\n              })]\n            })\n          })]\n        })\n      }), \" is called chromatic adaptation transform (CAT) matrix. Each CAT model give different CAT matrices for transformation from \", _jsx(_components.strong, {\n        children: \"LMS cone space\"\n      }), \" to \", _jsx(_components.strong, {\n        children: \"CIE XYZ\"\n      }), \".\"]\n    }), _jsxs(_components.p, {\n      children: [\"Wrong Von Kries transform by \", _jsx(_components.strong, {\n        children: \"XYZ\"\n      }), \" gain scaling to \", _jsx(_components.strong, {\n        children: \"CIE XYZ\"\n      }), \" tristimulus values of the source is,\"]\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"X\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Y\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Z\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center center center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"X\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"X\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"Y\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"Y\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"Z\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"Z\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        })]\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"X\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Y\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Z\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"\\\\begin{bmatrix} X_{D} \\\\\\\\ Y_{D} \\\\\\\\ Z_{D} \\\\\\\\ \\\\end{bmatrix} = \\\\begin{bmatrix} X_{D}/X_{S} \u0026 0 \u0026 0 \\\\\\\\ 0 \u0026 Y_{D}/Y_{S} \u0026 0 \\\\\\\\ 0 \u0026 0 \u0026 Z_{D}/Z_{S} \\\\\\\\ \\\\end{bmatrix} \\\\begin{bmatrix} X_{S} \\\\\\\\ Y_{S} \\\\\\\\ Z_{S} \\\\\\\\ \\\\end{bmatrix}\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsxs(_components.span, {\n                    className: \"mtable\",\n                    children: [_jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })]\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [\"We can convert \", _jsx(_components.strong, {\n        children: \"CIE XYZ\"\n      }), \" to \", _jsx(_components.strong, {\n        children: \"LMS cone space\"\n      }), \" and then back to \", _jsx(_components.strong, {\n        children: \"CIE XYZ\"\n      }), \" with \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsx(_components.mrow, {\n                  children: _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"A\"\n                    })]\n                  })\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"M_{A}\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \".8333em\",\n                  verticalAlign: \"-.15em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"A\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              })]\n            })\n          })]\n        })\n      }), \", then we can change Wrong Von Kries to general Von Kries as,\"]\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"X\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Y\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Z\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsx(_components.mi, {\n                    children: \"M\"\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"X\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Y\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Z\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"\\\\begin{bmatrix} X_{D} \\\\\\\\ Y_{D} \\\\\\\\ Z_{D} \\\\\\\\ \\\\end{bmatrix} = M \\\\begin{bmatrix} X_{S} \\\\\\\\ Y_{S} \\\\\\\\ Z_{S} \\\\\\\\ \\\\end{bmatrix}\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \".10903em\"\n                },\n                children: \"M\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsx(_components.mi, {\n                    children: \"M\"\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsxs(_components.msubsup, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"A\"\n                    }), _jsxs(_components.mrow, {\n                      children: [_jsx(_components.mo, {\n                        children: \"−\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    })]\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center center center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"L\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"D\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"M\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"M\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"S\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"S\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        })]\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsx(_components.mi, {\n                    children: \"M\"\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"M = M_{A}^{-1} \\\\begin{bmatrix} L_{D}/D_{S} \u0026 0 \u0026 0 \\\\\\\\ 0 \u0026 M_{D}/M_{S} \u0026 0 \\\\\\\\ 0 \u0026 0 \u0026 S_{D}/S_{S} \\\\\\\\ \\\\end{bmatrix} M\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \".6833em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \".10903em\"\n                },\n                children: \"M\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".8641em\"\n                        },\n                        children: [_jsxs(_components.span, {\n                          style: {\n                            top: \"-2.4163em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"A\"\n                              })\n                            })\n                          })]\n                        }), _jsxs(_components.span, {\n                          style: {\n                            top: \"-3.113em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsxs(_components.span, {\n                              className: \"mord mtight\",\n                              children: [_jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"−\"\n                              }), _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })]\n                            })\n                          })]\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".2837em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsxs(_components.span, {\n                    className: \"mtable\",\n                    children: [_jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    children: \"L\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"0\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".02778em\"\n                                    },\n                                    children: \"D\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0278em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })]\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \".10903em\"\n                },\n                children: \"M\"\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"L\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"M\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"S\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"A\"\n                    })]\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"X\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Y\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Z\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"\\\\begin{bmatrix} L_{S} \\\\\\\\ M_{S} \\\\\\\\ S_{S} \\\\\\\\ \\\\end{bmatrix} = M_{A} \\\\begin{bmatrix} X_{S} \\\\\\\\ Y_{S} \\\\\\\\ Z_{S} \\\\\\\\ \\\\end{bmatrix}\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    children: \"L\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"0\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"A\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"L\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"M\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"S\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"A\"\n                    })]\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"X\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Y\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Z\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"\\\\begin{bmatrix} L_{D} \\\\\\\\ M_{D} \\\\\\\\ S_{D} \\\\\\\\ \\\\end{bmatrix} = M_{A} \\\\begin{bmatrix} X_{D} \\\\\\\\ Y_{D} \\\\\\\\ Z_{D} \\\\\\\\ \\\\end{bmatrix}\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    children: \"L\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"0\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"A\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [\"The generalized version of Von Kries for \", _jsx(_components.strong, {\n        children: \"CIE XYZ white point\"\n      }), \" reference is,\"]\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"X\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Y\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Z\"\n                              }), _jsx(_components.mi, {\n                                children: \"D\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsxs(_components.msubsup, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"A\"\n                    }), _jsxs(_components.mrow, {\n                      children: [_jsx(_components.mo, {\n                        children: \"−\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    })]\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center center center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"L\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"L\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"M\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"M\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        })]\n                      }), _jsxs(_components.mtr, {\n                        children: [_jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsx(_components.mn, {\n                              children: \"0\"\n                            })\n                          })\n                        }), _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.mrow, {\n                              children: [_jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"S\"\n                                }), _jsx(_components.mi, {\n                                  children: \"D\"\n                                })]\n                              }), _jsx(_components.mi, {\n                                mathvariant: \"normal\",\n                                children: \"/\"\n                              }), _jsxs(_components.msub, {\n                                children: [_jsx(_components.mi, {\n                                  children: \"S\"\n                                }), _jsx(_components.mi, {\n                                  children: \"S\"\n                                })]\n                              })]\n                            })\n                          })\n                        })]\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"M\"\n                    }), _jsx(_components.mi, {\n                      children: \"A\"\n                    })]\n                  }), _jsxs(_components.mrow, {\n                    children: [_jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"[\"\n                    }), _jsxs(_components.mtable, {\n                      columnalign: \"center\",\n                      columnspacing: \"1em\",\n                      rowspacing: \"0.16em\",\n                      children: [_jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"X\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Y\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      }), _jsx(_components.mtr, {\n                        children: _jsx(_components.mtd, {\n                          children: _jsx(_components.mstyle, {\n                            displaystyle: \"false\",\n                            scriptlevel: \"0\",\n                            children: _jsxs(_components.msub, {\n                              children: [_jsx(_components.mi, {\n                                children: \"Z\"\n                              }), _jsx(_components.mi, {\n                                children: \"S\"\n                              })]\n                            })\n                          })\n                        })\n                      })]\n                    }), _jsx(_components.mo, {\n                      fence: \"true\",\n                      children: \"]\"\n                    })]\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"\\\\begin{bmatrix} X_{D} \\\\\\\\ Y_{D} \\\\\\\\ Z_{D} \\\\\\\\ \\\\end{bmatrix} = M_{A}^{-1} \\\\begin{bmatrix} L_{D}/L_{S} \u0026 0 \u0026 0 \\\\\\\\ 0 \u0026 M_{D}/M_{S} \u0026 0 \\\\\\\\ 0 \u0026 0 \u0026 S_{D}/S_{S} \\\\\\\\ \\\\end{bmatrix} M_{A} \\\\begin{bmatrix} X_{S} \\\\\\\\ Y_{S} \\\\\\\\ Z_{S} \\\\\\\\ \\\\end{bmatrix}\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"3.6em\",\n                  verticalAlign: \"-1.55em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".8641em\"\n                        },\n                        children: [_jsxs(_components.span, {\n                          style: {\n                            top: \"-2.4163em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"A\"\n                              })\n                            })\n                          })]\n                        }), _jsxs(_components.span, {\n                          style: {\n                            top: \"-3.113em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsxs(_components.span, {\n                              className: \"mord mtight\",\n                              children: [_jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"−\"\n                              }), _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })]\n                            })\n                          })]\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".2837em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsxs(_components.span, {\n                    className: \"mtable\",\n                    children: [_jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    children: \"L\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"0\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    children: \"L\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"0\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".10903em\"\n                                    },\n                                    children: \"M\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.109em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"arraycolsep\",\n                      style: {\n                        width: \".5em\"\n                      }\n                    }), _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"0\"\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsxs(_components.span, {\n                                className: \"mord\",\n                                children: [_jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".02778em\"\n                                                  },\n                                                  children: \"D\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                }), _jsx(_components.span, {\n                                  className: \"mord\",\n                                  children: \"/\"\n                                }), _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".05764em\"\n                                    },\n                                    children: \"S\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0576em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })]\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })]\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".10903em\"\n                  },\n                  children: \"M\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".3283em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.109em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsx(_components.span, {\n                              className: \"mord mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"A\"\n                              })\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".15em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"minner\",\n                children: [_jsx(_components.span, {\n                  className: \"mopen\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎣\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M319 0 H403 V16 H319z M319 0 H403 V16 H319z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎡\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mord\",\n                  children: _jsx(_components.span, {\n                    className: \"mtable\",\n                    children: _jsx(_components.span, {\n                      className: \"col-align-c\",\n                      children: _jsxs(_components.span, {\n                        className: \"vlist-t vlist-t2\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist-r\",\n                          children: [_jsxs(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"2.05em\"\n                            },\n                            children: [_jsxs(_components.span, {\n                              style: {\n                                top: \"-4.21em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07847em\"\n                                    },\n                                    children: \"X\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0785em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-3.01em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".22222em\"\n                                    },\n                                    children: \"Y\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.2222em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            }), _jsxs(_components.span, {\n                              style: {\n                                top: \"-1.81em\"\n                              },\n                              children: [_jsx(_components.span, {\n                                className: \"pstrut\",\n                                style: {\n                                  height: \"3em\"\n                                }\n                              }), _jsx(_components.span, {\n                                className: \"mord\",\n                                children: _jsxs(_components.span, {\n                                  className: \"mord\",\n                                  children: [_jsx(_components.span, {\n                                    className: \"mord mathnormal\",\n                                    style: {\n                                      marginRight: \".07153em\"\n                                    },\n                                    children: \"Z\"\n                                  }), _jsx(_components.span, {\n                                    className: \"msupsub\",\n                                    children: _jsxs(_components.span, {\n                                      className: \"vlist-t vlist-t2\",\n                                      children: [_jsxs(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: [_jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".3283em\"\n                                          },\n                                          children: _jsxs(_components.span, {\n                                            style: {\n                                              top: \"-2.55em\",\n                                              marginLeft: \"-.0715em\",\n                                              marginRight: \".05em\"\n                                            },\n                                            children: [_jsx(_components.span, {\n                                              className: \"pstrut\",\n                                              style: {\n                                                height: \"2.7em\"\n                                              }\n                                            }), _jsx(_components.span, {\n                                              className: \"mtight reset-size6 size3 sizing\",\n                                              children: _jsx(_components.span, {\n                                                className: \"mord mtight\",\n                                                children: _jsx(_components.span, {\n                                                  className: \"mord mtight mathnormal\",\n                                                  style: {\n                                                    marginRight: \".05764em\"\n                                                  },\n                                                  children: \"S\"\n                                                })\n                                              })\n                                            })]\n                                          })\n                                        }), _jsx(_components.span, {\n                                          className: \"vlist-s\",\n                                          children: \"​\"\n                                        })]\n                                      }), _jsx(_components.span, {\n                                        className: \"vlist-r\",\n                                        children: _jsx(_components.span, {\n                                          className: \"vlist\",\n                                          style: {\n                                            height: \".15em\"\n                                          },\n                                          children: _jsx(_components.span, {})\n                                        })\n                                      })]\n                                    })\n                                  })]\n                                })\n                              })]\n                            })]\n                          }), _jsx(_components.span, {\n                            className: \"vlist-s\",\n                            children: \"​\"\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-r\",\n                          children: _jsx(_components.span, {\n                            className: \"vlist\",\n                            style: {\n                              height: \"1.55em\"\n                            },\n                            children: _jsx(_components.span, {})\n                          })\n                        })]\n                      })\n                    })\n                  })\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: _jsx(_components.span, {\n                    className: \"delimsizing mult\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsxs(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"2.05em\"\n                          },\n                          children: [_jsxs(_components.span, {\n                            style: {\n                              top: \"-2.25em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎦\"\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-3.397em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              style: {\n                                height: \".016em\",\n                                width: \".6667em\"\n                              },\n                              children: _jsx(_components.svg, {\n                                height: \"0.016em\",\n                                preserveAspectRatio: \"xMinYMin\",\n                                style: {\n                                  width: \".6667em\"\n                                },\n                                viewBox: \"0 0 666.67 16\",\n                                width: \"0.6667em\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: _jsx(_components.path, {\n                                  d: \"M263 0 H347 V16 H263z M263 0 H347 V16 H263z\"\n                                })\n                              })\n                            })]\n                          }), _jsxs(_components.span, {\n                            style: {\n                              top: \"-4.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"3.155em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"delim-size4 delimsizinginner\",\n                              children: _jsx(_components.span, {\n                                children: \"⎤\"\n                              })\n                            })]\n                          })]\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"1.55em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [_jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \"(\"\n                  }), _jsx(_components.mi, {\n                    children: \"X\"\n                  }), _jsx(_components.mo, {\n                    separator: \"true\",\n                    children: \",\"\n                  }), _jsx(_components.mi, {\n                    children: \"Y\"\n                  }), _jsx(_components.mo, {\n                    separator: \"true\",\n                    children: \",\"\n                  }), _jsx(_components.mi, {\n                    children: \"Z\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \")\"\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"(X, Y, Z)\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1em\",\n                  verticalAlign: \"-.25em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mopen\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \".07847em\"\n                },\n                children: \"X\"\n              }), _jsx(_components.span, {\n                className: \"mpunct\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \".22222em\"\n                },\n                children: \"Y\"\n              }), _jsx(_components.span, {\n                className: \"mpunct\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \".07153em\"\n                },\n                children: \"Z\"\n              }), _jsx(_components.span, {\n                className: \"mclose\",\n                children: \")\"\n              })]\n            })\n          })]\n        })\n      }), \" values for source and destination are illuminant white point values in \", _jsx(_components.strong, {\n        children: \"CEI XYZ\"\n      }), \".\"]\n    }), _jsx(_components.blockquote, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://en.wikipedia.org/wiki/White_point\",\n          children: \"White point\"\n        }), \" is the color that is formed when all cone sensitivity responses are maximum.\"]\n      })\n    }), _jsx(_components.hr, {}), _jsx(_components.h2, {\n      id: \"implementation-of-chromatic-adaptation-transform\",\n      children: _jsx(_components.a, {\n        href: \"#implementation-of-chromatic-adaptation-transform\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"Implementation of Chromatic adaptation transform\"\n      })\n    }), _jsx(_components.p, {\n      children: \"We will implement chromatic adaptation for converting source image to destination illuminant by applying CAT. Chromatic adaptation for an image is implemented in two steps\"\n    }), _jsxs(_components.ol, {\n      children: [_jsx(_components.li, {\n        children: \"Estimate scene illuminant of image\"\n      }), _jsx(_components.li, {\n        children: \"Convert source image to destination illuminant with source illuminant obtained in step 1\"\n      })]\n    }), _jsx(_components.h3, {\n      id: \"illumination-estimation-of-image\",\n      children: _jsx(_components.a, {\n        href: \"#illumination-estimation-of-image\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"Illumination estimation of image\"\n      })\n    }), _jsx(_components.p, {\n      children: \"Illumination estimation is predicting tristimulus values (CIE XYZ) for the white point of the illuminant light source under which the reference image has been taken. These predicted white point tristimulus values were then later used for CAT. Illumination estimation is a very crucial step in chromatic adaptation. Several illumination estimation methods exist like\"\n    }), _jsxs(_components.ul, {\n      children: [_jsx(_components.li, {\n        children: \"Gray world assumption\"\n      }), _jsx(_components.li, {\n        children: \"White patch retinex\"\n      }), _jsx(_components.li, {\n        children: \"Reflection model\"\n      })]\n    }), _jsx(_components.p, {\n      children: \"The above methods are suitable for uniform illumination, for nonuniform illumination Retinex models are widely used.\"\n    }), _jsx(_components.p, {\n      children: \"For now, we use the Gray world assumption for illumination estimation\"\n    }), _jsx(_components.h3, {\n      id: \"gray-world-assumption-illuminant-estimation\",\n      children: _jsx(_components.a, {\n        href: \"#gray-world-assumption-illuminant-estimation\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"Gray world assumption illuminant estimation\"\n      })\n    }), _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://en.wikipedia.org/wiki/Color_normalization\",\n        children: \"Gray world assumption\"\n      }), \" is a simple method that assumes image contains objects with different reflectance colors uniformly from minimum to maximum intensities and averaging all pixel colors gives gray color. Illumination estimation is calculated by averaging all pixel values for each channel. For an image with equal representation of colors, illumination estimation gives average color gray.\"]\n    }), _jsx(_components.div, {\n      className: \"math math-display\",\n      children: _jsx(_components.span, {\n        className: \"katex-display\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              display: \"block\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsx(_components.mi, {\n                    children: \"I\"\n                  }), _jsx(_components.mi, {\n                    children: \"l\"\n                  }), _jsx(_components.mi, {\n                    children: \"l\"\n                  }), _jsx(_components.mi, {\n                    children: \"u\"\n                  }), _jsx(_components.mi, {\n                    children: \"m\"\n                  }), _jsx(_components.mi, {\n                    children: \"i\"\n                  }), _jsx(_components.mi, {\n                    children: \"n\"\n                  }), _jsx(_components.mi, {\n                    children: \"a\"\n                  }), _jsx(_components.mi, {\n                    children: \"n\"\n                  }), _jsx(_components.mi, {\n                    children: \"t\"\n                  }), _jsx(_components.mo, {\n                    children: \"=\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \"(\"\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"R\"\n                    }), _jsxs(_components.mrow, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mi, {\n                        children: \"v\"\n                      }), _jsx(_components.mi, {\n                        children: \"g\"\n                      })]\n                    })]\n                  }), _jsx(_components.mi, {\n                    mathvariant: \"normal\",\n                    children: \"/\"\n                  }), _jsx(_components.mn, {\n                    children: \"255\"\n                  }), _jsx(_components.mo, {\n                    separator: \"true\",\n                    children: \",\"\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"G\"\n                    }), _jsxs(_components.mrow, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mi, {\n                        children: \"v\"\n                      }), _jsx(_components.mi, {\n                        children: \"g\"\n                      })]\n                    })]\n                  }), _jsx(_components.mi, {\n                    mathvariant: \"normal\",\n                    children: \"/\"\n                  }), _jsx(_components.mn, {\n                    children: \"255\"\n                  }), _jsx(_components.mo, {\n                    separator: \"true\",\n                    children: \",\"\n                  }), _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"B\"\n                    }), _jsxs(_components.mrow, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mi, {\n                        children: \"v\"\n                      }), _jsx(_components.mi, {\n                        children: \"g\"\n                      })]\n                    })]\n                  }), _jsx(_components.mi, {\n                    mathvariant: \"normal\",\n                    children: \"/\"\n                  }), _jsx(_components.mn, {\n                    children: \"255\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \")\"\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"Illuminant = (R_{avg}/255, G_{avg}/255, B_{avg}/255)\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \".6944em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \".07847em\"\n                },\n                children: \"I\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \".01968em\"\n                },\n                children: \"ll\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"u\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"minan\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"t\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1.0361em\",\n                  verticalAlign: \"-.2861em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mopen\",\n                children: \"(\"\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".00773em\"\n                  },\n                  children: \"R\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".1514em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.0077em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsxs(_components.span, {\n                              className: \"mord mtight\",\n                              children: [_jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"a\"\n                              }), _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".03588em\"\n                                },\n                                children: \"vg\"\n                              })]\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".2861em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mord\",\n                children: \"/255\"\n              }), _jsx(_components.span, {\n                className: \"mpunct\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  children: \"G\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".1514em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"0\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsxs(_components.span, {\n                              className: \"mord mtight\",\n                              children: [_jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"a\"\n                              }), _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".03588em\"\n                                },\n                                children: \"vg\"\n                              })]\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".2861em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mord\",\n                children: \"/255\"\n              }), _jsx(_components.span, {\n                className: \"mpunct\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \".1667em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".05017em\"\n                  },\n                  children: \"B\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".1514em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.0502em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsxs(_components.span, {\n                              className: \"mord mtight\",\n                              children: [_jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"a\"\n                              }), _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".03588em\"\n                                },\n                                children: \"vg\"\n                              })]\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".2861em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              }), _jsx(_components.span, {\n                className: \"mord\",\n                children: \"/255\"\n              }), _jsx(_components.span, {\n                className: \"mclose\",\n                children: \")\"\n              })]\n            })]\n          })]\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [\"where \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsx(_components.mrow, {\n                  children: _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"R\"\n                    }), _jsxs(_components.mrow, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mi, {\n                        children: \"v\"\n                      }), _jsx(_components.mi, {\n                        children: \"g\"\n                      })]\n                    })]\n                  })\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"R_{avg}\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \".9694em\",\n                  verticalAlign: \"-.2861em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".00773em\"\n                  },\n                  children: \"R\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".1514em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.0077em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsxs(_components.span, {\n                              className: \"mord mtight\",\n                              children: [_jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"a\"\n                              }), _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".03588em\"\n                                },\n                                children: \"vg\"\n                              })]\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".2861em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              })]\n            })\n          })]\n        })\n      }), \", \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsx(_components.mrow, {\n                  children: _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"G\"\n                    }), _jsxs(_components.mrow, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mi, {\n                        children: \"v\"\n                      }), _jsx(_components.mi, {\n                        children: \"g\"\n                      })]\n                    })]\n                  })\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"G_{avg}\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \".9694em\",\n                  verticalAlign: \"-.2861em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  children: \"G\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".1514em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"0\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsxs(_components.span, {\n                              className: \"mord mtight\",\n                              children: [_jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"a\"\n                              }), _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".03588em\"\n                                },\n                                children: \"vg\"\n                              })]\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".2861em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              })]\n            })\n          })]\n        })\n      }), \", and \", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsx(_components.mrow, {\n                  children: _jsxs(_components.msub, {\n                    children: [_jsx(_components.mi, {\n                      children: \"B\"\n                    }), _jsxs(_components.mrow, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mi, {\n                        children: \"v\"\n                      }), _jsx(_components.mi, {\n                        children: \"g\"\n                      })]\n                    })]\n                  })\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"B_{avg}\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \".9694em\",\n                  verticalAlign: \"-.2861em\"\n                }\n              }), _jsxs(_components.span, {\n                className: \"mord\",\n                children: [_jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  style: {\n                    marginRight: \".05017em\"\n                  },\n                  children: \"B\"\n                }), _jsx(_components.span, {\n                  className: \"msupsub\",\n                  children: _jsxs(_components.span, {\n                    className: \"vlist-t vlist-t2\",\n                    children: [_jsxs(_components.span, {\n                      className: \"vlist-r\",\n                      children: [_jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".1514em\"\n                        },\n                        children: _jsxs(_components.span, {\n                          style: {\n                            top: \"-2.55em\",\n                            marginLeft: \"-.0502em\",\n                            marginRight: \".05em\"\n                          },\n                          children: [_jsx(_components.span, {\n                            className: \"pstrut\",\n                            style: {\n                              height: \"2.7em\"\n                            }\n                          }), _jsx(_components.span, {\n                            className: \"mtight reset-size6 size3 sizing\",\n                            children: _jsxs(_components.span, {\n                              className: \"mord mtight\",\n                              children: [_jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                children: \"a\"\n                              }), _jsx(_components.span, {\n                                className: \"mord mtight mathnormal\",\n                                style: {\n                                  marginRight: \".03588em\"\n                                },\n                                children: \"vg\"\n                              })]\n                            })\n                          })]\n                        })\n                      }), _jsx(_components.span, {\n                        className: \"vlist-s\",\n                        children: \"​\"\n                      })]\n                    }), _jsx(_components.span, {\n                      className: \"vlist-r\",\n                      children: _jsx(_components.span, {\n                        className: \"vlist\",\n                        style: {\n                          height: \".2861em\"\n                        },\n                        children: _jsx(_components.span, {})\n                      })\n                    })]\n                  })\n                })]\n              })]\n            })\n          })]\n        })\n      }), \" are means of each image channel (R, B, G). Scale the mean values to the maximum intensity value of an image which is generally 255 (8-bit).\"]\n    }), _jsx(_components.blockquote, {\n      children: _jsxs(_components.p, {\n        children: [\"Images are generally stored in JPEG or PNG in \", _jsx(_components.a, {\n          href: \"https://en.wikipedia.org/wiki/SRGB\",\n          children: \"sRGB\"\n        }), \" format. To mimic the human perception of non-linear luminance factor, while taking pictures, exposure values are \", _jsx(_components.a, {\n          href: \"https://www.cambridgeincolour.com/tutorials/gamma-correction.htm\",\n          children: \"Gamma corrected\"\n        }), \" with a value close to 2.2. And any image processing operation should be applied on linear RGB values by converting sRGB gamma to linear RGB without gamma.\"]\n      })\n    }), _jsx(_components.p, {\n      children: \"Read source image to which we apply chromatic adaptation and transform to destination illuminant,\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"import\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" numpy \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"as\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"import\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" cv2\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# read image which generally in sRGB format\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" cv2.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"imread\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'input.jpg'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# reverse channel order from BGR to RGB\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" img[:, :, ::\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# scale image in range [0.0, 1.0]\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"/\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"255.0\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.p, {\n      children: \"Convert sRGB image to linear RGB\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_linear\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"srgb\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# 'sRGB' in [0.0, 1.0]\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    ln_rgb \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" srgb.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"copy\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"()\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    mask \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" ln_rgb \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.04045\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    ln_rgb[mask] \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"power\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"((ln_rgb[mask] \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"+\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.055\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \") \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"/\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.055\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"2.4\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    ln_rgb[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"~\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"mask] \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"/=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"12.92\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" ln_rgb\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"linear_to_srgb\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"linear\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# 'linear RGB' in [0.0, 1.0]\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    srgb \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" linear.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"copy\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"()\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    mask \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" srgb \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0031308\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    srgb[mask] \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.055\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"*\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"power\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(srgb[mask], \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"/\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"2.4\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \") \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.055\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    srgb[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"~\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"mask] \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"*=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"12.92\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"clip\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(srgb, \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \")\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        alt: \"sRGB to linear RGB\",\n        src: \"chromatic-adaptation/srgb-to-linear-rgb.jpg\"\n      })\n    }), _jsx(_components.p, {\n      children: \"Apply gray world on linear RGB image and get illuminant\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_gray_world_illuminant\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"img\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# image in sRGB with range [0.0, 1.0]\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert sRGB to linear RGB\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    ln_img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_linear\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(img)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# mean of each channel\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    avg_ch \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" ln_img.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"mean\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#e06c75\",\n                fontStyle: \"italic\"\n              },\n              children: \"axis\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"))\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert back RGB mean values to sRGB\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"linear_to_srgb\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(avg_ch)\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.p, {\n      children: \"Illuminant for the image is\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsx(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"illuminant \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_gray_world_illuminant\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(img)\"\n            })]\n          })\n        })\n      })\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsx(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"print\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(illuminant) \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\u003e\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.29078475\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.39055316\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.50858647\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"])\"\n            })]\n          })\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [\"Illuminant for the above image is \", _jsx(_components.strong, {\n        children: \"[0.29078475, 0.39055316, 0.50858647]\"\n      }), \". For the output illuminant, we can say that the blue color influence is higher than other color wavelengths in the image.\"]\n    }), _jsx(_components.p, {\n      children: \"Now we have the illuminant of the source image, next apply chromatic adaptation for this image.\"\n    }), _jsx(_components.h3, {\n      id: \"chromtic-adaptation\",\n      children: _jsx(_components.a, {\n        href: \"#chromtic-adaptation\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"Chromtic adaptation\"\n      })\n    }), _jsxs(_components.p, {\n      children: [\"We have source illuminant, to transform to destination illuminant, we consider \", _jsx(_components.a, {\n        href: \"https://www.waveformlighting.com/color-matching/what-is-d65-and-what-is-it-used-for\",\n        children: \"D65 standard illuminant\"\n      }), \" for the destination which is standard for digital images and displays. We assume that the source image was taken under a different illuminant and we now transform that image to D65 illuminant.\"]\n    }), _jsxs(_components.p, {\n      children: [\"Illuminant for D65 white is \", _jsx(_components.strong, {\n        children: \"[0.95047, 1., 1.08883]\"\n      }), \", these are the \", _jsx(_components.strong, {\n        children: \"CIE XYZ\"\n      }), \" values for white point of sRGB D65. sRGB values for D65 white point (all values are 255) is \", _jsx(_components.strong, {\n        children: \"(1.0, 1.0, 1.0)\"\n      }), \" which is destination illuminant white point.\"]\n    }), _jsx(_components.p, {\n      children: \"We implement chromatic adaptation transform step-by-step.\"\n    }), _jsx(_components.blockquote, {\n      children: _jsxs(_components.p, {\n        children: [\"Every operation should be applied on \", _jsx(_components.strong, {\n          children: \"linear RGB\"\n        })]\n      })\n    }), _jsxs(_components.p, {\n      children: [\"First, convert illuminant sRGB values to \", _jsx(_components.strong, {\n        children: \"CIE XYZ\"\n      }), \".\"]\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"RGB_TO_XYZ\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.412453\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.357580\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.180423\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], \"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                       [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.212671\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.715160\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.072169\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], \"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                       [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.019334\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.119193\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.950227\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]])\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"XYZ_TO_RGB\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"3.240481\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.537151\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.498536\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"],\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                       [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.969256\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.875990\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0415560\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"],\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                       [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.055647\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.204041\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.057311\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]])\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"srgb\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert 'sRGB' to 'linear RGB'\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    rgb \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_linear\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(srgb)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert 'linear RGB' to 'XYZ'\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" rgb \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"@\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"RGB_TO_XYZ\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \".T\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"xyz_to_srgb\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert 'XYZ' to 'linear RGB'\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    rgb \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" xyz \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"@\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"XYZ_TO_RGB\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \".T\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert back 'linear RGB' to 'sRGB'\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"linear_to_srgb\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(rgb)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"normalize_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# normalize xyz with 'y' so that 'y' represents luminance\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" xyz \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"/\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" xyz[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.p, {\n      children: \"Convert sRGB to XYZ passing source and destination white points\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# source illuminant white point obtained from previous step \"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"src_white_point \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" illuminant\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# destination illuminant white point scale to 1.0\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"dst_white_point \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" (\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert white point in 'sRGB' to 'XYZ' \"\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# and normalize 'XYZ' that 'Y' as luminance\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"xyz_src \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(src_white_point)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"n_xyz_src \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"normalize_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(xyz_src)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"xyz_dst \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(dst_white_point)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"n_xyz_dst \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"normalize_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(xyz_dst)\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.p, {\n      children: \"Next, convert XYZ values to LMS cone space by transforming XYZ values with CAT transform matrix. Multiple CAT matrices exist and the Bradford model is popular among all these types.\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"BRADFORD\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.8951\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.2664\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.1614\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], \"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                     [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.7502\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.7135\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0367\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], \"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                     [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0389\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0685\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0296\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]])\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"VON_KRIES\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.40024\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.70760\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.08081\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"],\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                      [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.22630\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.16532\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.04570\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"],\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                      [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.00000\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.00000\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.91822\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]])\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"SHARP\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.2694\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0988\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.1706\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"],\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                  [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.8364\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.8006\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0357\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"],\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                  [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0297\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0315\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0018\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]])\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"CAT2000\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.7982\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.3389\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.1371\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"],\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                    [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.5918\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.5512\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0406\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], \"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                    [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0008\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.2390\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.9753\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]])\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"CAT02\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.7328\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.4296\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.1624\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"],\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                  [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.7036\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.6975\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0061\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"],\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"                  [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0030\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.0136\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0.9834\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]])\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.p, {\n      children: \"Convert XYZ values to LMS and get gain scale factors by dividing destination LMS with source LMS.\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_cat_matrix\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"cat_type\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" = \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'BRADFORD'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"if\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" cat_type \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"==\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'BRADFORD'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \":\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"BRADFORD\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"elif\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" cat_type \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"==\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'VON_KRIES'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \":\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"VON_KRIES\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"elif\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" cat_type \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"==\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'SHARP'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \":\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"SHARP\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"elif\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" cat_type \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"==\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'CAT2000'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \":\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"CAT2000\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"else\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \":\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"CAT02\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"xyz_to_lms\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"M\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" xyz \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"@\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" M.T\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_gain\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"lms_src\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"lms_dst\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" lms_dst \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"/\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" lms_src\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"transform_lms\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"M\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"gain\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.linalg.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"inv\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(M) \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"@\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"diag\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(gain) \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"@\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" M\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# get CAT type matrix\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"cat_m \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_cat_matrix\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'BRADFORD'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert 'XYZ' to 'LMS'\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"lms_src \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"xyz_to_lms\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(n_xyz_src, cat_m)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"lms_dst \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"xyz_to_lms\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(n_xyz_dst, cat_m)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# LMS gain by scaling destination with source LMS\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"gain \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_gain\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(lms_src, lms_dst)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# multiply CAT matrix with LMS gain factors\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"ca_transform \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"transform_lms\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(cat_m, gain)\"\n            })]\n          })]\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [_jsx(_components.em, {\n        children: \"ca_transform()\"\n      }), \" applies chromatic adaptation transformation on LMS gain factors and then converts back the LMS values to XYZ by multiplying with the inverse transform of CAT matrix.\"]\n    }), _jsx(_components.p, {\n      children: \"Transform the source image to destination illuminant by multiplying XYZ values with chromatic adaptation transformation XYZ values.\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert 'sRGB' source image to 'XYZ' \"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"src_img_xyz \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(img)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# apply CAT transform to image\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"transformed_xyz \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" src_img_xyz \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"@\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" ca_transform.T\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert back 'XYZ' to 'sRGB' image\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"transformed_img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"xyz_to_srgb\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(transformed_xyz)\"\n            })]\n          })]\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"transformed_img\"\n      }), \" is the final image after transformation.\"]\n    }), _jsx(_components.p, {\n      children: \"The final chromatic adaptation function that transforms source image to destination illuminant is\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"chromatic_adaptation_image\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"src_white_point\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"dst_white_point\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"src_img\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"cat_type\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" = \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'BRADFORD'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert white point in 'sRGB' to 'XYZ' \"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# and normalize 'XYZ' that 'Y' as luminance\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    xyz_src \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(src_white_point)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    n_xyz_src \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"normalize_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(xyz_src)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    xyz_dst \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(dst_white_point)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    n_xyz_dst \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"normalize_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(xyz_dst)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# get CAT type matrix\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    cat_m \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_cat_matrix\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(cat_type)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert 'XYZ' to 'LMS'\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    lms_src \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"xyz_to_lms\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(n_xyz_src, cat_m)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    lms_dst \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"xyz_to_lms\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(n_xyz_dst, cat_m)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# LMS gain by scaling destination with source LMS\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    gain \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_gain\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(lms_src, lms_dst)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: \" \"\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# multiply CAT matrix with LMS gain factors\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    ca_transform \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"transform_lms\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(cat_m, gain)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert 'sRGB' source image to 'XYZ' \"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    src_img_xyz \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"srgb_to_xyz\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(src_img)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# apply CAT transform to image\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    transformed_xyz \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" src_img_xyz \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"@\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" ca_transform.T\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# convert back 'XYZ' to 'sRGB' image\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    transformed_img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"xyz_to_srgb\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(transformed_xyz)\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" transformed_img\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# read image which generally in sRGB format\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" cv2.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"imread\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'input.jpg'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# reverse channel order from BGR to RGB and scale to 1.0\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"r_img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" img[:, :, ::\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"] \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"/\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"255\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# get source illuminant by illumination estimation\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"src_white_point \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_gray_world_illuminant\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(r_img)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"dst_white_point \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"])\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# apply chromatic apatation for source image\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"ca_img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"chromatic_adaptation_image\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(src_white_point, dst_white_point, r_img, \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#e06c75\",\n                fontStyle: \"italic\"\n              },\n              children: \"cat_type\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98c379\"\n              },\n              children: \"'BRADFORD'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"line\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# reverse channel order from RGB to BGR, and rescale to 255\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"ca_img \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" (ca_img[:, :, ::\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"-\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"] \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"*\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"255\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \").\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"astype\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(np.uint8)\"\n            })]\n          })]\n        })\n      })\n    }), _jsxs(_components.p, {\n      children: [_jsx(_components.img, {\n        alt: \"Chromatic adaptation transform Batman\",\n        src: \"chromatic-adaptation/chromatic-adaptation-transform-batman.jpg\"\n      }), \" \", _jsx(_components.img, {\n        alt: \"Chromatic adaptation transform Pool\",\n        src: \"chromatic-adaptation/chromatic-adaptation-transform-pool.jpg\"\n      })]\n    }), _jsx(_components.p, {\n      children: \"As chromatic adaptation is done with reference white point, the transformed images contain improved white color ranges and other colors are transformed based on illumination transform obtained by white point transform.\"\n    }), _jsx(_components.p, {\n      children: \"As illumination estimation is a crucial step, we can improve results further by applying other illumination estimation methods and images with uniform color objects.\"\n    }), _jsx(_components.hr, {}), _jsx(_components.h3, {\n      id: \"colorchecker\",\n      children: _jsx(_components.a, {\n        href: \"#colorchecker\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"ColorChecker\"\n      })\n    }), _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://en.wikipedia.org/wiki/ColorChecker\",\n        children: \"ColorChecker\"\n      }), \" is a color checker chart containing multiple color squares or rectangles in a grid. ColorChecker chart contains a range of spectral reflectance color patches that represents natural object colors like human skin, leaves, flowers, sky, etc. These color patches on a whole represent all possible intensity ranges that are suitable for many uniform illumination conditions.\"]\n    }), _jsx(_components.p, {\n      children: \"ColorChecker charts are used in photography while shooting images/videos under varying illumination conditions. Multiple scenes are shot under varying lighting conditions placing ColorChecker chart in the scene, and later based on the color patches illumination, images are adjusted to destination illuminant. This process is called color grading and it involves several steps including chromatic adaptation.\"\n    }), _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        alt: \"ColorChecker chart:=:40:=:Macbeth ColorChecker chart\",\n        src: \"chromatic-adaptation/color-checker.jpg\"\n      })\n    }), _jsxs(_components.p, {\n      children: [\"As the color checker chart contains uniform color ranges, we can use this chart to estimate the illuminant of an image. We can detect ColorChecker chart in an image using OpenCV using OpenCV-Contrib module \", _jsx(_components.strong, {\n        children: \"mcc\"\n      }), \" (Macbeth ColorChecker).\"]\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\"\n              },\n              children: \"def\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_colorchecker_coord\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\",\n                fontStyle: \"italic\"\n              },\n              children: \"img\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"):\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# initialize CCDetector object\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    checker_detector \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" cv2.mcc.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"CCheckerDetector_create\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"()\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# detect classic Macbeth 24 color grid chart\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    has_chart \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" checker_detector.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"process\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(img, cv2.mcc.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"MCC24\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# if any chart present\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"if\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" has_chart:\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# ColorChecker chart coordinates\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7f848e\",\n                fontStyle: \"italic\"\n              },\n              children: \"# order - (tl, tr, br, bl)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        box \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" checker_detector.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"getListColorChecker\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"()[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"].\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"getBox\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"()\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        min_x \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"int\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"min\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(box[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], box[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"3\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]))\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        max_x \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"int\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"max\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(box[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], box[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"2\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]))\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        min_y \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"int\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"min\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(box[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], box[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]))\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        max_y \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"int\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"max\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(box[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"2\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], box[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"3\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]))\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        coord \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" [(min_x, min_y), (max_x, max_y)]\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"True\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", coord]\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"else\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \":\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"        \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"return\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" [\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"False\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", []]\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.p, {\n      children: \"The above function returns rectangle coordinates (top-left, bottom-right) for ColorChecker chart if present in an image.\"\n    }), _jsx(_components.p, {\n      children: \"We extract ColorChecker from an image and estimate illuminant for only that extracted color chart as it contains uniform color ranges that give a good estimation of illuminant than the whole image.\"\n    }), _jsx(_components.div, {\n      \"data-rehype-pretty-code-fragment\": \"\",\n      children: _jsx(_components.pre, {\n        \"data-language\": \"python\",\n        \"data-theme\": \"default\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"python\",\n          \"data-theme\": \"default\",\n          children: [_jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"src_white_point \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" np.\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"array\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"([\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1.0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"])\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"has_chart, coord \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_colorchecker_coord\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(img)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"if\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" has_chart:\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    src_white_point \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_gray_world_illuminant\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(r_img[coord[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]: coord[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"], coord[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]: coord[\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"1\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"][\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#d19a66\"\n              },\n              children: \"0\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"]])\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#c678dd\",\n                fontStyle: \"italic\"\n              },\n              children: \"else\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \":\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"line\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"    src_white_point \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56b6c2\"\n              },\n              children: \"=\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \" \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61afef\"\n              },\n              children: \"get_gray_world_illuminant\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#abb2bf\"\n              },\n              children: \"(r_img)\"\n            })]\n          })]\n        })\n      })\n    }), _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        alt: \"Detect ColorChecker chart\",\n        src: \"chromatic-adaptation/detec-colorchecker-chart.jpg\"\n      })\n    }), _jsx(_components.p, {\n      children: \"Chromatic adaptation of the above image with illuminant obtained from cropped ColorChecker chart is\"\n    }), _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        alt: \"Chromatic adptation ColorChecker Batman\",\n        src: \"chromatic-adaptation/chromatic-adaptation-batman-comparison.jpg\"\n      })\n    }), _jsxs(_components.p, {\n      children: [\"Some regions and color ranges of transformed images of \", _jsx(_components.strong, {\n        children: \"Img 1\"\n      }), \" and \", _jsx(_components.strong, {\n        children: \"Img 2\"\n      }), \" are close to each other because we have applied the same destination illuminant for both images and this gives the conclusion that chromatic adaptation works to transform images from one illuminant to another.\"]\n    }), _jsx(_components.hr, {}), _jsx(_components.p, {\n      children: \"We can improve transformation further with better illumination estimation models (both uniform and non-uniform) and compare various chromatic adaptation transform models.\"\n    }), _jsx(_components.h3, {\n      id: \"references\",\n      children: _jsx(_components.a, {\n        href: \"#references\",\n        className: \"anchor no-underline flex items-center before:-translate-x-[8px] before:-ml-[20px] before:bg-no-repeat before:bg-contain before:w-[20px] before:h-[20px] before:content-[''] hover:before:bg-[url('/link.svg')]\",\n        children: \"References\"\n      })\n    }), _jsxs(_components.ul, {\n      children: [_jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://www.cell.com/current-biology/pdf/S0960-9822(07)01839-8.pdf\",\n          children: \"https://www.cell.com/current-biology/pdf/S0960-9822(07)01839-8.pdf\"\n        })\n      }), _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://www.marcelpatek.com/color.html\",\n          children: \"http://www.marcelpatek.com/color.html\"\n        })\n      }), _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html\",\n          children: \"http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html\"\n        })\n      }), _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://web.stanford.edu/~sujason/ColorBalancing/adaptation.html\",\n          children: \"https://web.stanford.edu/~sujason/ColorBalancing/adaptation.html\"\n        })\n      }), _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://in.mathworks.com/help/images/color.html\",\n          children: \"https://in.mathworks.com/help/images/color.html\"\n        })\n      }), _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://in.mathworks.com/matlabcentral/fileexchange/66682-chromadapt-adjust-color-balance-of-rgb-image-with-chromatic\",\n          children: \"https://in.mathworks.com/matlabcentral/fileexchange/66682-chromadapt-adjust-color-balance-of-rgb-image-with-chromatic\"\n        })\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{"title":"Chromatic adaptation (Color constancy)","description":"Color constancy of an image using Chromatic adaptation technique in Python.","imgName":"chromatic-adaptation/chromatic-adaptation.jpg","date":"Nov 26, 2021","tags":["image-processing","color-science","opencv"],"keywords":["color-science","color-constancy","chromatic-adaptation","gray-world","opencv","python"]},"scope":{}},"metadata":{"title":"Chromatic adaptation (Color constancy)","description":"Color constancy of an image using Chromatic adaptation technique in Python.","imgName":"chromatic-adaptation/chromatic-adaptation.jpg","date":"Nov 26, 2021","tags":["image-processing","color-science","opencv"],"keywords":["color-science","color-constancy","chromatic-adaptation","gray-world","opencv","python"],"slug":"test/chromatic-adaptation","fileName":"test/chromatic-adaptation.mdx"}},"__N_SSG":true},"page":"/posts/[...id]","query":{"id":["test","chromatic-adaptation"]},"buildId":"v08qUVp9oev7hrGkcByI7","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>